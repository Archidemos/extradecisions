# -*- ck2.scripted_effects -*-

# The `emf_new_character` effect and its wrappers (e.g., `emf_new_character_noble`) lives in its own, easier to override
# file: /common/scripted_effects/emf_new_character_effect.txt

emf_add_random_generic_leader_trait = {
	random_list = {
		1 = {
			trigger = { NOT = { trait = narrow_flank_leader } }
			add_trait = narrow_flank_leader
		}
		1 = {
			trigger = { NOT = { trait = experimenter } }
			add_trait = experimenter
		}
		1 = {
			trigger = { NOT = { trait = trickster } }
			add_trait = trickster
		}
		1 = {
			trigger = { NOT = { trait = siege_leader } }
			add_trait = siege_leader
		}
		1 = {
			trigger = { NOT = { trait = organizer } }
			add_trait = organizer
		}
		1 = {
			trigger = { NOT = { trait = holy_warrior } }
			add_trait = holy_warrior
		}
		1 = {
			trigger = { NOT = { trait = flanker } }
			add_trait = flanker
		}
		1 = {
			trigger = { NOT = { trait = inspiring_leader } }
			add_trait = inspiring_leader
		}
		1 = {
			trigger = { NOT = { trait = unyielding_leader } }
			add_trait = unyielding_leader
		}
		1 = {
			trigger = { NOT = { trait = aggressive_leader } }
			add_trait = aggressive_leader
		}
		1 = {
			trigger = { NOT = { trait = defensive_leader } }
			add_trait = defensive_leader
		}
		1 = {
			trigger = {
				NOT = { trait = master_of_flame }
				OR = {
					culture = han
					has_character_flag = taught_chinese_strategy
					has_character_flag = originated_from_chinese_court
				}
			}
			add_trait = master_of_flame
		}
		1 = {
			trigger = {
				NOT = { trait = logistics_expert }
				OR = {
					culture = han
					has_character_flag = taught_chinese_strategy
					has_character_flag = originated_from_chinese_court
				}
			}
			add_trait = logistics_expert
		}
		1 = {
			trigger = {
				NOT = { trait = levy_coordinator }
				OR = {
					culture = han
					has_character_flag = taught_chinese_strategy
					has_character_flag = originated_from_chinese_court
				}
			}
			add_trait = levy_coordinator
		}
		1 = {
			trigger = {
				NOT = { trait = sapper }
				OR = {
					culture = han
					has_character_flag = taught_chinese_strategy
					has_character_flag = originated_from_chinese_court
				}
			}
			add_trait = sapper
		}
	}
}

# Code-generated by src/trait_inheritance.py
emf_PREV_inherit_genetics_from_THIS = {
	if = {
		limit = { trait = syphilitic } # Gonorrhea
		random = { chance = 10 PREV = { add_trait = syphilitic } }
	}
	if = {
		limit = { trait = inbred } # Inbred
		random = { chance = 25 PREV = { add_trait = inbred } }
	}
	if = {
		limit = { trait = horse } # Horse
		random = { chance = 100 PREV = { add_trait = horse } }
	}
	if = {
		limit = { trait = cat } # Cat
		random = { chance = 100 PREV = { add_trait = cat } }
	}
	if = {
		limit = { trait = agile } # Agile
		random = { chance = 20 PREV = { add_trait = agile } }
	}
	if = {
		limit = { trait = melodious_voice } # Silver Tongue
		random = { chance = 10 PREV = { add_trait = melodious_voice } }
	}
	if = {
		limit = { trait = powerful_voice } # Powerful Voice
		random = { chance = 10 PREV = { add_trait = powerful_voice } }
	}
	if = {
		limit = { trait = calm_voice } # Calm Voice
		random = { chance = 10 PREV = { add_trait = calm_voice } }
	}
	if = {
		limit = { trait = imposing } # Imposing
		random = { chance = 5 PREV = { add_trait = imposing } }
	}
}