# end_inaccessibility_effect

# will_not_marry_effect

# add_cat_effect
# add_pet_owl_effect

# random_accident_death_effect

# print_scope_effect

# raiding_adventurer_war_declaration_effect

# save_beloved_character_effect

# transfer_crown_on_abdication_effect

# stable_attribute_improvement_effect

# give_random_character_modifier_effect
# assign_random_nickname_effect

# setup_province_pulse

###REAPER's DUE###

remove_patrons_effect = {
	remove_character_modifier = patron_shiva
	remove_character_modifier = patron_vishnu
	remove_character_modifier = patron_brahma
	remove_character_modifier = patron_kali
	remove_character_modifier = patron_ganesha
	remove_character_modifier = patron_ganga
}

end_inaccessibility_effect = {
	if = {
		limit = { trait = in_hiding }

		remove_trait = in_hiding
		clr_character_flag = do_not_disturb

		add_character_modifier = {
			name = went_out_of_hiding_timer
			months = 6
			hidden = yes
		}

		character_event = { id = CM.6400 } # Notify plotters and family
	}

	if = {
		limit = { in_seclusion = yes }

		remove_character_modifier = in_seclusion

		if = {
			limit = { is_ruler = yes }

			add_character_modifier = {
				name = recently_opened_gates
				years = 1
			}

			custom_tooltip = {
				text = open_the_gates_info_tooltip

				clr_character_flag = do_not_disturb
				clr_character_flag = exposed_to_outside
				clr_character_flag = seclusion_piling_corpses
				clr_character_flag = seclusion_lazy_seduction
				clr_character_flag = seclusion_nightmares
				clr_character_flag = seclusion_gained_friend
				clr_character_flag = seclusion_child_has_lover
				clr_character_flag = seclusion_tunnel
				clr_character_flag = seclusion_food_events
				clr_character_flag = seclusion_events_on

				character_event = {
					id = RIP.11557 # Clears starvation modifiers
					days = 40
					random = 20
				}

				any_courtier = {
					clr_character_flag = seclusion_events_on
					remove_character_modifier = in_seclusion

					character_event = {
						id = RIP.11557 # Clears starvation modifiers
						days = 40
						random = 20
					}
				}

				any_vassal = {
					limit = {
						is_voter = yes
						is_landed = yes
						in_seclusion = no

						host = {
							NOT = { character = ROOT }
						}
					}

					force_host = ROOT
				}
			}

			if = { # Rejoin your liege's court if both of you are not in seclusion
				limit = {
					is_voter = yes

					liege = {
						in_seclusion = no
					}
				}

				force_host = liege
			}
		}
	}
}

will_not_marry_effect = {
	add_character_modifier = {
		name = will_not_marry
		duration = -1
	}

	add_trait = cannot_marry
}

#Use to remove any opinion giving a prison reason. Must set appropriate event targets before using this effect.
remove_prison_reason_effect = {
	event_target:remove_prison_reason_effect_accuser = {
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_traitor }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_rebel_traitor }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_dishonorable }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_regicide_traitor }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_fatwa_target }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_refused_order }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_witch }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_takfir }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_unfaithful_wife }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_cuckolded }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_charge_heresiarch }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_charge_infidel }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_charge_deviant }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_charge_illegitimate }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_charge_traitor }
		remove_opinion = { who = event_target:remove_prison_reason_effect_accused modifier = opinion_charge_slanderer }
	}	
}

add_cat_effect = {
	if = {
		limit = {
			NOT = { has_character_modifier = pet_cat }
		}

		add_character_modifier = {
			name = pet_cat
			duration = -1
		}

		character_event = {
			id = 77802 # Cat dies
			days = 3000
			random = 2000
		}

		character_event = {
			id = 77861 # Cat & dog
			days = 30
			random = 100
		}
	}
}

add_pet_owl_effect = {
	add_character_modifier = {
		name = pet_owl
		duration = -1
	}

	character_event = {
		id = 77800 # Owl dies
		days = 3500
		random = 2000
	}
}

###MONKS & MYSTICS###

remove_secret_religion_trait_effect = {
	clear_secret_religion = yes
}

random_accident_death_effect = {
	tooltip = {
		death = {
			death_reason = death_accident
		}
	}

	random_list = {
		10 = {
			trigger	= {
				host = {
					capital_scope = {
						NOT = { region = world_africa }
					}
				}
			}

			death = {
				death_reason = death_accident_drowning
			}
		}

		10 = {
			trigger = {
				host = {
					capital_scope = {
						NOT = { region = world_africa }
					}
				}
			}

			death = {
				death_reason = death_accident_bear
			}
		}

		10 = {
			death = {
				death_reason = death_accident_boar
			}
		}

		10 = {
			death = {
				death_reason = death_accident_fall
			}
		}

		10 = {
			death = {
				death_reason = death_accident_arrow
			}
		}

		10 = {
			death = {
				death_reason = death_accident_snakes
			}
		}

		10 = {
			trigger = {
				host = {
					capital_scope = {
						region = world_india
					}
				}
			}

			death = {
				death_reason = death_accident_tiger
			}
		}
	}
}

print_scope_effect = {
	log = "------------------------------"
	log = "- Printing the current scope -"
	log = "- This: [This.GetName][This.GetBestName]"
	log = "- Root: [Root.GetName][Root.GetBestName]"
	log = "- Prev: [Prev.GetName][Prev.GetBestName]"
	log = "- PrevPrev: [PrevPrev.GetName][PrevPrev.GetBestName]"
	log = "- PrevPrevPrev: [PrevPrevPrev.GetName][PrevPrevPrev.GetBestName]"
	log = "- PrevPrevPrevPrev: [PrevPrevPrevPrev.GetName][PrevPrevPrevPrev.GetBestName]"
	log = "- From: [From.GetName][From.GetBestName]"
	log = "- FromFrom: [FromFrom.GetName][FromFrom.GetBestName]"
	log = "- FromFromFrom: [FromFromFrom.GetName][FromFromFrom.GetBestName]"
	log = "- FromFromFromFrom: [FromFromFromFrom.GetName][FromFromFromFrom.GetBestName]"
	log = "- Event_target:test_target1: [test_target1.GetName][test_target1.GetBestName]"
	log = "- Event_target:test_target2: [test_target2.GetName][test_target2.GetBestName]"
	log = "- Event_target:test_target3: [test_target3.GetName][test_target3.GetBestName]"
	log = "------------------------------"
}

add_trait_for_prevs_secret_religion_society_effect = {
	set_secret_religion = PREV
}

flip_to_secret_religion_effect = {
	convert_to_secret_religion = yes
	abdicate_holy_order_if_religion_changes_effect = yes
}

add_prevs_secret_religion_trait_effect = {
	set_secret_religion = PREV
}

#Used in different sutiation, there conditions on effect. Flag has precedence over religion.
add_secret_religion_trait_trigger_is_religion_or_old_religion_flag_clear_flag_after_effect_is_run_this_name_is_a_tribute_to_m_effect = {
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = catholic
    			}
    			has_character_flag = character_was_catholic
			}
    	}
    	set_secret_religion = catholic	
    	clr_character_flag = character_was_catholic
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = cathar
    			}
    			has_character_flag = character_was_cathar
			}
    	}
    	set_secret_religion = cathar	
    	clr_character_flag = character_was_cathar
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = fraticelli
    			}
    			has_character_flag = character_was_fraticelli
			}
    	}
    	set_secret_religion = fraticelli	
    	clr_character_flag = character_was_fraticelli
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = waldensian
    			}
    			has_character_flag = character_was_waldensian
			}
    	}
    	set_secret_religion = waldensian	
    	clr_character_flag = character_was_waldensian
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = lollard
    			}
    			has_character_flag = character_was_lollard
			}
    	}
    	set_secret_religion = lollard	
    	clr_character_flag = character_was_lollard
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = orthodox
    			}
    			has_character_flag = character_was_orthodox
			}
    	}
    	set_secret_religion = orthodox
    	clr_character_flag = character_was_orthodox
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = miaphysite
    			}
    			has_character_flag = character_was_miaphysite
			}
    	}
    	set_secret_religion = miaphysite	
    	clr_character_flag = character_was_miaphysite
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = monophysite
    			}
    			has_character_flag = character_was_monophysite
			}
    	}
    	set_secret_religion = monophysite	
    	clr_character_flag = character_was_monophysite
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = bogomilist
    			}
    			has_character_flag = character_was_bogomilist
			}
    	}
    	set_secret_religion = bogomilist	
    	clr_character_flag = character_was_bogomilist
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = monothelite
    			}
    			has_character_flag = character_was_monothelite
			}
    	}
    	set_secret_religion = monothelite	
    	clr_character_flag = character_was_monothelite
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = iconoclast
    			}
    			has_character_flag = character_was_iconoclast
			}
    	}
    	set_secret_religion = iconoclast	
    	clr_character_flag = character_was_iconoclast
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = paulician
    			}
    			has_character_flag = character_was_paulician
			}
    	}
    	set_secret_religion = paulician	
    	clr_character_flag = character_was_paulician
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = nestorian
    			}
    			has_character_flag = character_was_nestorian
			}
    	}
    	set_secret_religion = nestorian	
    	clr_character_flag = character_was_nestorian
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = messalian
    			}
    			has_character_flag = character_was_messalian
			}
    	}
    	set_secret_religion = messalian	
    	clr_character_flag = character_was_messalian
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = sunni
    			}
    			has_character_flag = character_was_sunni
			}
    	}
    	set_secret_religion = sunni
    	clr_character_flag = character_was_sunni
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = zikri
    			}
    			has_character_flag = character_was_zikri
			}
    	}
    	set_secret_religion = zikri	
    	clr_character_flag = character_was_zikri
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = yazidi
    			}
    			has_character_flag = character_was_yazidi
			}
    	}
    	set_secret_religion = yazidi	
    	clr_character_flag = character_was_yazidi
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = ibadi
    			}
    			has_character_flag = character_was_ibadi
			}
    	}
    	set_secret_religion = ibadi	
    	clr_character_flag = character_was_ibadi
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = kharijite
    			}
    			has_character_flag = character_was_kharijite
			}
    	}
    	set_secret_religion = kharijite	
    	clr_character_flag = character_was_kharijite
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = shiite
    			}
    			has_character_flag = character_was_shiite
			}
    	}
    	set_secret_religion = shiite
    	clr_character_flag = character_was_shiite
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = druze
    			}
    			has_character_flag = character_was_druze
			}
    	}
    	set_secret_religion = druze	
    	clr_character_flag = character_was_druze
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = hurufi
    			}
    			has_character_flag = character_was_hurufi
			}
    	}
    	set_secret_religion = hurufi	
    	clr_character_flag = character_was_hurufi
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = jewish
    			}
    			has_character_flag = character_was_jewish
			}
    	}
    	set_secret_religion = jewish
    	clr_character_flag = character_was_jewish
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = karaite
    			}
    			has_character_flag = character_was_karaite
			}
    	}
    	set_secret_religion = karaite	
    	clr_character_flag = character_was_karaite
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = samaritan
    			}
    			has_character_flag = character_was_samaritan
			}
    	}
    	set_secret_religion = samaritan	
    	clr_character_flag = character_was_samaritan
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = zoroastrian
    			}
    			has_character_flag = character_was_zoroastrian
			}
    	}
    	set_secret_religion = zoroastrian
    	clr_character_flag = character_was_zoroastrian
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = mazdaki
    			}
    			has_character_flag = character_was_mazdaki
			}
    	}
    	set_secret_religion = mazdaki	
    	clr_character_flag = character_was_mazdaki
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = manichean
    			}
    			has_character_flag = character_was_manichean
			}
    	}
    	set_secret_religion = manichean	
    	clr_character_flag = character_was_manichean
		break = yes
    }
	
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = khurmazta
    			}
    			has_character_flag = character_was_khurmazta
			}
    	}
    	set_secret_religion = khurmazta	
    	clr_character_flag = character_was_khurmazta
		break = yes
    }
	
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = bon
    			}
    			has_character_flag = character_was_bon
			}
    	}
    	set_secret_religion = bon	
    	clr_character_flag = character_was_bon
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = bon_reformed
    			}
    			has_character_flag = character_was_bon_reformed
			}
    	}
    	set_secret_religion = bon	
    	clr_character_flag = character_was_bon_reformed
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = hellenic_pagan
    			}
    			has_character_flag = character_was_hellenic_pagan
			}
    	}
    	set_secret_religion = hellenic_pagan	
    	clr_character_flag = character_was_hellenic_pagan
		break = yes
    }
	
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = hellenic_pagan_reformed
    			}
    			has_character_flag = character_was_hellenic_pagan_reformed
			}
    	}
    	set_secret_religion = hellenic_pagan_reformed	
    	clr_character_flag = character_was_hellenic_pagan_reformed
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = taoist
    			}
    			has_character_flag = character_was_taoist
			}
    	}
    	set_secret_religion = taoist	
    	clr_character_flag = character_was_taoist
		break = yes
    }
	
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = hindu
    			}
    			has_character_flag = character_was_hindu
			}
    	}
    	set_secret_religion = hindu
    	clr_character_flag = character_was_hindu
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = buddhist
    			}
    			has_character_flag = character_was_buddhist
			}
    	}
    	set_secret_religion = buddhist
    	clr_character_flag = character_was_buddhist
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = jain
    			}
    			has_character_flag = character_was_jain
			}
    	}
    	set_secret_religion = jain
    	clr_character_flag = character_was_jain
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = norse_pagan_reformed
    			}
    			has_character_flag = character_was_norse_pagan_reformed
			}
    	}
    	set_secret_religion = norse_pagan_reformed
    	clr_character_flag = character_was_norse_pagan_reformed
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = slavic_pagan_reformed
    			}
    			has_character_flag = character_was_slavic_pagan_reformed
			}
    	}
    	set_secret_religion = slavic_pagan_reformed
    	clr_character_flag = character_was_slavic_pagan_reformed
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = tengri_pagan_reformed
    			}
    			has_character_flag = character_was_tengri_pagan_reformed
			}
    	}
    	set_secret_religion = tengri_pagan_reformed
    	clr_character_flag = character_was_tengri_pagan_reformed
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = baltic_pagan_reformed
    			}
    			has_character_flag = character_was_baltic_pagan_reformed
			}
    	}
    	set_secret_religion = baltic_pagan_reformed
    	clr_character_flag = character_was_baltic_pagan_reformed
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = finnish_pagan_reformed
    			}
    			has_character_flag = character_was_finnish_pagan_reformed
			}
    	}
    	set_secret_religion = finnish_pagan_reformed
    	clr_character_flag = character_was_finnish_pagan_reformed
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = west_african_pagan_reformed
    			}
    			has_character_flag = character_was_west_african_pagan_reformed
			}
    	}
    	set_secret_religion = west_african_pagan_reformed
    	clr_character_flag = character_was_west_african_pagan_reformed
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = zun_pagan_reformed
    			}
    			has_character_flag = character_was_zun_pagan_reformed
			}
    	}
    	set_secret_religion = zun_pagan_reformed
    	clr_character_flag = character_was_zun_pagan_reformed
		break = yes
    }
	if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = norse_pagan
    			}
    			has_character_flag = character_was_norse_pagan
			}
    	}
    	set_secret_religion = norse_pagan
    	clr_character_flag = character_was_norse_pagan
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = slavic_pagan
    			}
    			has_character_flag = character_was_slavic_pagan
			}
    	}
    	set_secret_religion = slavic_pagan
    	clr_character_flag = character_was_slavic_pagan
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = tengri_pagan
    			}
    			has_character_flag = character_was_tengri_pagan
			}
    	}
    	set_secret_religion = tengri_pagan
    	clr_character_flag = character_was_tengri_pagan
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = baltic_pagan
    			}
    			has_character_flag = character_was_baltic_pagan
			}
    	}
    	set_secret_religion = baltic_pagan
    	clr_character_flag = character_was_baltic_pagan
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = finnish_pagan
    			}
    			has_character_flag = character_was_finnish_pagan
			}
    	}
    	set_secret_religion = finnish_pagan
    	clr_character_flag = character_was_finnish_pagan
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = west_african_pagan
    			}
    			has_character_flag = character_was_west_african_pagan
			}
    	}
    	set_secret_religion = west_african_pagan
    	clr_character_flag = character_was_west_african_pagan
		break = yes
    }
    if = {
    	limit = {
    		OR = {
    			AND = {
    				NOT = {
    					OR = {
    						has_character_flag = character_was_catholic
							has_character_flag = character_was_cathar
							has_character_flag = character_was_fraticelli
							has_character_flag = character_was_waldensian
							has_character_flag = character_was_lollard
							has_character_flag = character_was_orthodox
							has_character_flag = character_was_miaphysite
							has_character_flag = character_was_monophysite
							has_character_flag = character_was_bogomilist
							has_character_flag = character_was_monothelite
							has_character_flag = character_was_iconoclast
							has_character_flag = character_was_paulician
							has_character_flag = character_was_nestorian
							has_character_flag = character_was_messalian
							has_character_flag = character_was_sunni
							has_character_flag = character_was_zikri
							has_character_flag = character_was_yazidi
							has_character_flag = character_was_ibadi
							has_character_flag = character_was_kharijite
							has_character_flag = character_was_shiite
							has_character_flag = character_was_druze
							has_character_flag = character_was_hurufi
							has_character_flag = character_was_jewish
							has_character_flag = character_was_karaite
							has_character_flag = character_was_samaritan
							has_character_flag = character_was_zoroastrian
							has_character_flag = character_was_mazdaki
							has_character_flag = character_was_manichean
							has_character_flag = character_was_khurmazta
							has_character_flag = character_was_bon
							has_character_flag = character_was_bon_reformed
							has_character_flag = character_was_hellenic_pagan
							has_character_flag = character_was_hellenic_pagan_reformed
							has_character_flag = character_was_taoist
							has_character_flag = character_was_hindu
							has_character_flag = character_was_buddhist
							has_character_flag = character_was_jain
							has_character_flag = character_was_norse_pagan_reformed
							has_character_flag = character_was_slavic_pagan_reformed
							has_character_flag = character_was_tengri_pagan_reformed
							has_character_flag = character_was_baltic_pagan_reformed
							has_character_flag = character_was_finnish_pagan_reformed
							has_character_flag = character_was_west_african_pagan_reformed
							has_character_flag = character_was_zun_pagan_reformed
							has_character_flag = character_was_norse_pagan
							has_character_flag = character_was_slavic_pagan
							has_character_flag = character_was_tengri_pagan
							has_character_flag = character_was_baltic_pagan
							has_character_flag = character_was_finnish_pagan
							has_character_flag = character_was_west_african_pagan
							has_character_flag = character_was_zun_pagan
							has_character_flag = character_was_aztec
							has_character_flag = character_was_aztec_reformed
    					}
    				}
    				religion = zun_pagan
    			}
    			has_character_flag = character_was_zun_pagan
			}
    	}
    	set_secret_religion = zun_pagan
    	clr_character_flag = character_was_zun_pagan
		break = yes
    }
}

add_religion_char_flag_effect = {
	if = {
    	limit = { religion = catholic }
    	set_character_flag = character_was_catholic
    }
	if = {
    	limit = { religion = cathar }
    	set_character_flag = character_was_cathar
    }
	if = {
    	limit = { religion = fraticelli }
    	set_character_flag = character_was_fraticelli
    }
	if = {
    	limit = { religion = waldensian }
    	set_character_flag = character_was_waldensian
    }
	if = {
    	limit = { religion = lollard }
    	set_character_flag = character_was_lollard
    }
    if = {
    	limit = { religion = orthodox }
    	set_character_flag = character_was_orthodox
    }
	if = {
    	limit = { religion = miaphysite }
    	set_character_flag = character_was_miaphysite
    }
	if = {
    	limit = { religion = monophysite }
    	set_character_flag = character_was_monophysite
    }
	if = {
    	limit = { religion = bogomilist }
    	set_character_flag = character_was_bogomilist
    }
	if = {
    	limit = { religion = monothelite }
    	set_character_flag = character_was_monothelite
    }
	if = {
    	limit = { religion = iconoclast }
    	set_character_flag = character_was_iconoclast
    }
	if = {
    	limit = { religion = paulician }
    	set_character_flag = character_was_paulician
    }
	if = {
    	limit = { religion = nestorian }
    	set_character_flag = character_was_nestorian
    }
	if = {
    	limit = { religion = messalian }
    	set_character_flag = character_was_messalian
    }
    if = {
    	limit = { religion = sunni }
    	set_character_flag = character_was_sunni
    }
	if = {
    	limit = { religion = zikri }
    	set_character_flag = character_was_zikri
    }
	if = {
    	limit = { religion = yazidi }
    	set_character_flag = character_was_yazidi
    }
	if = {
    	limit = { religion = ibadi }
    	set_character_flag = character_was_ibadi
    }
	if = {
    	limit = { religion = kharijite }
    	set_character_flag = character_was_kharijite
    }
    if = {
    	limit = { religion = shiite }
    	set_character_flag = character_was_shiite
    }
	if = {
    	limit = { religion = druze }
    	set_character_flag = character_was_druze
    }
	if = {
    	limit = { religion = hurufi }
    	set_character_flag = character_was_hurufi
    }
    if = {
    	limit = { religion = jewish }
    	set_character_flag = character_was_jewish
    }
	if = {
    	limit = { religion = karaite }
    	set_character_flag = character_was_karaite
    }
	if = {
    	limit = { religion = samaritan }
    	set_character_flag = character_was_samaritan
    }
    if = {
    	limit = { religion = zoroastrian }
    	set_character_flag = character_was_zoroastrian
    }
	if = {
    	limit = { religion = mazdaki }
    	set_character_flag = character_was_mazdaki
    }
	if = {
    	limit = { religion = manichean }
    	set_character_flag = character_was_manichean
    }
	if = {
    	limit = { religion = khurmazta }
    	set_character_flag = character_was_khurmazta
    }
	if = {
    	limit = { religion = bon }
    	set_character_flag = character_was_bon
    }
	if = {
    	limit = { religion = bon_reformed }
    	set_character_flag = character_was_bon_reformed
    }
	if = {
    	limit = { religion = hellenic_pagan }
    	set_character_flag = character_was_hellenic_pagan
    }
	if = {
    	limit = { religion = hellenic_pagan_reformed }
    	set_character_flag = character_was_hellenic_pagan_reformed
    }
	if = {
    	limit = { religion = taoist }
    	set_character_flag = character_was_taoist
    }
    if = {
    	limit = { religion = hindu }
    	set_character_flag = character_was_hindu
    }
    if = {
    	limit = { religion = buddhist }
    	set_character_flag = character_was_buddhist
    }
    if = {
    	limit = { religion = jain }
    	set_character_flag = character_was_jain
    }
    if = {
    	limit = { religion = norse_pagan_reformed }
    	set_character_flag = character_was_norse_pagan_reformed
    }
    if = {
    	limit = { religion = slavic_pagan_reformed }
    	set_character_flag = character_was_slavic_pagan_reformed
    }
    if = {
    	limit = { religion = tengri_pagan_reformed }
    	set_character_flag = character_was_tengri_pagan_reformed
    }
    if = {
    	limit = { religion = baltic_pagan_reformed }
    	set_character_flag = character_was_baltic_pagan_reformed
    }
    if = {
    	limit = { religion = finnish_pagan_reformed }
    	set_character_flag = character_was_finnish_pagan_reformed
    }
    if = {
    	limit = { religion = west_african_pagan_reformed }
    	set_character_flag = character_was_west_african_pagan_reformed
    }
    if = {
    	limit = { religion = zun_pagan_reformed }
    	set_character_flag = character_was_zun_pagan_reformed
    }
	if = {
    	limit = { religion = norse_pagan }
    	set_character_flag = character_was_norse_pagan
    }
    if = {
    	limit = { religion = slavic_pagan }
    	set_character_flag = character_was_slavic_pagan
    }
    if = {
    	limit = { religion = tengri_pagan }
    	set_character_flag = character_was_tengri_pagan
    }
    if = {
    	limit = { religion = baltic_pagan }
    	set_character_flag = character_was_baltic_pagan
    }
    if = {
    	limit = { religion = finnish_pagan }
    	set_character_flag = character_was_finnish_pagan
    }
    if = {
    	limit = { religion = west_african_pagan }
    	set_character_flag = character_was_west_african_pagan
    }
    if = {
    	limit = { religion = zun_pagan }
    	set_character_flag = character_was_zun_pagan
    }
	if = {
    	limit = { religion = aztec }
    	set_character_flag = character_was_aztec
    }
    if = {
    	limit = { religion = aztec_reformed }
    	set_character_flag = character_was_aztec_reformed
    }
}

clr_religion_char_flag_effect = {
    clr_character_flag = character_was_catholic
	clr_character_flag = character_was_cathar
	clr_character_flag = character_was_fraticelli
	clr_character_flag = character_was_waldensian
	clr_character_flag = character_was_lollard
	clr_character_flag = character_was_orthodox
	clr_character_flag = character_was_miaphysite
	clr_character_flag = character_was_monophysite
	clr_character_flag = character_was_bogomilist
	clr_character_flag = character_was_monothelite
	clr_character_flag = character_was_iconoclast
	clr_character_flag = character_was_paulician
	clr_character_flag = character_was_nestorian
	clr_character_flag = character_was_messalian
	clr_character_flag = character_was_sunni
	clr_character_flag = character_was_zikri
	clr_character_flag = character_was_yazidi
	clr_character_flag = character_was_ibadi
	clr_character_flag = character_was_kharijite
	clr_character_flag = character_was_shiite
	clr_character_flag = character_was_druze
	clr_character_flag = character_was_hurufi
	clr_character_flag = character_was_jewish
	clr_character_flag = character_was_karaite
	clr_character_flag = character_was_samaritan
	clr_character_flag = character_was_zoroastrian
	clr_character_flag = character_was_mazdaki
	clr_character_flag = character_was_manichean
	clr_character_flag = character_was_khurmazta
	clr_character_flag = character_was_bon
	clr_character_flag = character_was_taoist
	clr_character_flag = character_was_hindu
	clr_character_flag = character_was_buddhist
	clr_character_flag = character_was_jain
	clr_character_flag = character_was_norse_pagan_reformed
	clr_character_flag = character_was_slavic_pagan_reformed
	clr_character_flag = character_was_tengri_pagan_reformed
	clr_character_flag = character_was_baltic_pagan_reformed
	clr_character_flag = character_was_finnish_pagan_reformed
	clr_character_flag = character_was_west_african_pagan_reformed
	clr_character_flag = character_was_zun_pagan_reformed
	clr_character_flag = character_was_norse_pagan
	clr_character_flag = character_was_slavic_pagan
	clr_character_flag = character_was_tengri_pagan
	clr_character_flag = character_was_baltic_pagan
	clr_character_flag = character_was_finnish_pagan
	clr_character_flag = character_was_west_african_pagan
	clr_character_flag = character_was_zun_pagan
	clr_character_flag = character_was_aztec
	clr_character_flag = character_was_aztec_reformed
}

event_target_old_religion_from_flag_effect = {
	if = {
    	limit = { has_character_flag = character_was_catholic }
    	catholic = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_cathar }
    	cathar = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_fraticelli }
    	fraticelli = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_waldensian }
    	waldensian = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_lollard }
    	lollard = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_orthodox }
    	orthodox = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_miaphysite }
    	miaphysite = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_monophysite }
    	monophysite = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_bogomilist }
    	bogomilist = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_monothelite }
    	monothelite = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_iconoclast }
    	iconoclast = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_paulician }
    	paulician = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_nestorian }
    	nestorian = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_messalian }
    	messalian = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_sunni }
    	sunni = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_zikri }
    	zikri = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_yazidi }
    	yazidi = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_ibadi }
    	ibadi = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_kharijite }
    	kharijite = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_shiite }
    	shiite = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_druze }
    	druze = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_hurufi }
    	hurufi = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_jewish }
    	jewish = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_karaite }
    	karaite = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_samaritan }
    	samaritan = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_zoroastrian }
    	zoroastrian = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_mazdaki }
    	mazdaki = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_manichean }
    	manichean = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_khurmazta }
    	khurmazta = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_bon }
    	bon = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_bon_reformed }
    	bon_reformed = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_hellenic_pagan }
    	hellenic_pagan = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_hellenic_pagan_reformed }
    	hellenic_pagan_reformed = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_taoist }
    	taoist = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_hindu }
    	hindu = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_buddhist }
    	buddhist = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_jain }
    	jain = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_norse_pagan_reformed }
    	norse_pagan_reformed = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_slavic_pagan_reformed }
    	slavic_pagan_reformed = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_tengri_pagan_reformed }
    	tengri_pagan_reformed = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_baltic_pagan_reformed }
    	baltic_pagan_reformed = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_finnish_pagan_reformed }
    	finnish_pagan_reformed = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_west_african_pagan_reformed }
    	west_african_pagan_reformed = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_zun_pagan_reformed }
    	zun_pagan_reformed = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_norse_pagan }
    	norse_pagan = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_slavic_pagan }
    	slavic_pagan = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_tengri_pagan }
    	tengri_pagan = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_baltic_pagan }
    	baltic_pagan = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_finnish_pagan }
    	finnish_pagan = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_west_african_pagan }
    	west_african_pagan = {
    		save_event_target_as = old_religion
    	}
    }
    if = {
    	limit = { has_character_flag = character_was_zun_pagan }
    	zun_pagan = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_aztec }
    	aztec = {
    		save_event_target_as = old_religion
    	}
    }
	if = {
    	limit = { has_character_flag = character_was_aztec_reformed }
    	aztec_reformed = {
    		save_event_target_as = old_religion
    	}
    }
}

# Raiding adventurer war declaration effect
raiding_adventurer_war_declaration_effect = {
	custom_tooltip = {
		text = raiding_adventurer_war_declaration_tooltip

		event_target:selling_province = {
			duchy = {
				save_event_target_as = target_duchy
			}

			event_target:raiding_adventurer = {
				unsafe_war = {
					target = PREVPREV
					casus_belli = duchy_adventure
					thirdparty_title = event_target:target_duchy
				}

				any_army = {
					set_can_toggle_looting = yes
					set_looting = no
				}
			}
		}

		clr_character_flag = adventurer_unsafe_duchy_war
		clr_character_flag = adventurer_safe_duchy_war
		clr_character_flag = negotiating_with_adventurer

		event_target:raiding_adventurer = {
			clr_character_flag = raiding_adventurer
		}
	}
}

send_final_book_outcome_event_effect = {
	#character_event = { id = JD.10070 days = 5 random = 10 } #Testing values...
	character_event = { id = JD.10070 days = 565 random = 3650 }
}

random_coronation_events_effect = {
	random_list = {
			#King befriends foreign ruler
			#King befriends vassal
			#King's new acquaintances improve his diplomacy/stewardship
			#King's new acquaintances improve his intrigue/learning
			#King's diplomacy helps him improve opinion of all guests
			#King's new resolve makes him lose slothful/content.
			#Proud King's trepidation makes him gain ambitious.
			#Child King's flattered and can become haughty or conscientious.
			#The coronation_priest approves of the ceremony.
			#Temperate/Celibate coronation_priest disapproves of the extravagant ceremony.
			#HRE/Francia Emperor gets a talk from the priest about being the heir of Charlemagne (chance for prestige, learning, diligent)
			#The Pope talks to the King about his duties as protector of Christendom (chance to gain zealous, cynical, learning).
			#Child king is taught by foreign ruler about stewardship.
			#Two foreign Kings (guests) become (or are) rivals, coronation_ruler with high diplomacy can help them lose rivalry and become his friends.
			#Cynical vassal (or wicked priest) annoys the coronation_priest. High diplomacy ruler may help and gain gregarious.
			#A knight comes to pledge his service to the new King/Emperor, if ruler is female/child, chance to become friend/lover or increase martial.
			#A wise priest joins the court.
			#King becomes rival of one of his vassals.

			#King is embarassed of secluded coronation, chance to gain stressed or paranoid.
			#King's vassals are offended by secluded coronation (chance to avoid with high diplomacy).
			#Coronation_priest is disappointed by secluded ceremony.
			#King is disraught by secluded ceremony (chance to lose ambitious, gain content/slothful).
			#King reflects upon secluded coronation (chance to lose proud, gain humble).
			#King's Councillor becomes his rival due to secluded coronation.

		1 = { #No events
			modifier = { 
				factor = 0.1 
				has_character_flag = flag_extravagant_coronation
			}
			event_target:coronation_ruler = { character_event = { id = HF.20366 days = 15 } } #Directly fire coronation
		}
		4 = {
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_foreign_friendship 
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 0 
				num_of_friends = 3
			}
			modifier = { 
				factor = 2 
				NOT = { num_of_friends = 1 }
			}
			modifier = { 
				factor = 1.5
				tier = EMPEROR
			}
			modifier = { 
				factor = 1.5
				trait = gregarious
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0
				NOT = {
					any_independent_ruler = { 
						has_opinion_modifier = { 
							who = ROOT 
							modifier = opinion_coronation_guest 
						}
						NOT = { is_rival = ROOT } 
						NOT = { is_friend = ROOT } 
						NOT = { is_lover = ROOT } 
						NOT = { is_married = ROOT }
						NOT = { num_of_friends = 3 }
						opinion = { who = from value = -20 }
					}
				}
			}
			character_event = { id = HF.20306 } # Frendship with foreign ruler guest.
		}
		4 = { 

			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_vassal_friendship  
			}
			modifier = { 
				factor = 0 
				num_of_friends = 3
			}
			modifier = { 
				factor = 2 
				NOT = { num_of_friends = 1 }
			}
			modifier = { 
				factor = 1.5
				tier = EMPEROR
			}
			modifier = { 
				factor = 1.5
				trait = gregarious
			}
			modifier = { 
				factor = 0.1
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0
				NOT = {
					any_vassal = { 
						has_opinion_modifier = { 
							who = ROOT 
							modifier = opinion_coronation_guest 
						}
						NOT = { is_rival = ROOT } 
						NOT = { is_friend = ROOT } 
						NOT = { is_lover = ROOT } 
						NOT = { is_married = ROOT }
						NOT = { num_of_friends = 3 }
						opinion = { who = from value = -20 }
					}
				}
			}

			character_event = { id = HF.20310 } # Frendship with vassal guest.
		}
		4 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_diplomacy_boost  
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 1.5
				trait = gregarious
			}

			character_event = { id = HF.20311 } # Increase diplomacy/stewardship.
		}
		4 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_learning_boost  
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 1.5
				trait = shy
			}

			character_event = { id = HF.20314 } # Increase intrigue/learning.
		}
		4 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_guest_opinions  
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 1.5
				trait = gregarious
			}
			modifier = { 
				factor = 0.75
				NOT = { diplomacy = 10 }
			}

			character_event = { id = HF.20316 } # Improve guests opinion.
		}
		4 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_gain_diligent  
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 2
				trait = content
				trait = slothful
			}
			modifier = { 
				factor = 0 
				NOR = { 
					trait = content 
					trait = slothful
				}
			}

			character_event = { id = HF.20321 } # Gain diligent.
		}
		4 = { 

			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_gain_ambitious  
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 2
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0 
				trait = ambitious
			}
			modifier = { 
				factor = 0 
				NOT = { trait = proud }
			}
			character_event = { id = HF.20322 } # Gain ambitious.
		}
		4 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_haughty_child  
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 2 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0
				age = 16
			}
			modifier = { 
				factor = 1.5 
				NOR = { 
					trait = haughty 
					trait = conscientious
				}
			}

			character_event = { id = HF.20323 } # Child becomes haughty.
		}
		4 = { 

			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_priest_approves  
			}
			modifier = { 
				factor = 0 #Can't approve and disapprove within the course of the same ceremony.
				has_character_flag = flag_coronation_priest_disapproves  
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 1.75 
				event_target:coronation_priest = { trait = hedonist }
			}
			modifier = { 
				factor = 1.5 
				event_target:coronation_priest = { trait = gluttonous }
			}
			modifier = { 
				factor = 1.5 
				event_target:coronation_priest = { trait = drunkard }
			}
			modifier = { 
				factor = 1.5 
				event_target:coronation_priest = { trait = gregarious }
			}
			character_event = { id = HF.20324 } # Priest approves of ceremony.
		}
		4 = { 

			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_hre_talk  
			}
			modifier = { 
				factor = 0 
				has_character_flag = is_charlemagne	#Shouldn't happen anyway, but, just to be safe... 
			}
			modifier = { 
				factor = 0.5
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0
				NOT = { has_landed_title = e_hre }
			}
			modifier = { 
				factor = 1.5 
				event_target:coronation_priest = { trait = zealous }
			}
			character_event = { id = HF.20326 } # Priest talks about responsibilities of HRE.
		}
		4 = { 

			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_pope_talk  
			}
			modifier = { 
				factor = 0.5
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 2 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0
				NOT = { event_target:coronation_priest = { has_landed_title = k_papal_state } }
			}
			character_event = { id = HF.20327 } # Pope talks about responsibilities of Christian King.
		}
		4 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_foreign_teacher  
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0
				age = 16
			}
			modifier = { 
				factor = 0 
				NOT = {
					any_independent_ruler = { 
						has_opinion_modifier = { 
							who = ROOT 
							modifier = opinion_coronation_guest 
						}
						NOT = { is_rival = ROOT } 
						stewardship = 8
						opinion = { who = ROOT value = 0 }
					}
				}
			}

			random_independent_ruler = {
				limit = { 
					has_opinion_modifier = { 
						who = ROOT 
						modifier = opinion_coronation_guest 
					}
					NOT = { is_rival = ROOT } 
					stewardship = 8
					opinion = { who = ROOT value = 0 }
				}
				character_event = { id = HF.20328 } # Foreign ruler teaches child statemanship.
			}
		}
		4 = { 

			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_priest_disapproves  
			}
			modifier = { 
				factor = 0 #Can't approve and disapprove within the course of the same ceremony.
				has_character_flag = flag_coronation_priest_approves  
			}
			modifier = { 
				factor = 0 # This event is for disapproving of excess.
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0.25 
				NOR = { 
					trait = hedonist 
					trait = drunkard
					trait = gluttonous
				}
			}
			modifier = { 
				factor = 1.5 
				trait = hedonist
			}
			modifier = { 
				factor = 1.5 
				trait = gluttonous
			}
			modifier = { 
				factor = 1.5 
				trait = drunkard
			}
			modifier = { 
				factor = 0.1 
				event_target:coronation_priest = { trait = hedonist }
			}
			modifier = { 
				factor = 0.5 
				event_target:coronation_priest = { trait = gluttonous }
			}
			modifier = { 
				factor = 0.5 
				event_target:coronation_priest = { trait = drunkard }
			}
			modifier = { 
				factor = 1.5 
				event_target:coronation_priest = { trait = temperate }
			}
			modifier = { 
				factor = 1.5 
				event_target:coronation_priest = { trait = celibate }
			}
			modifier = { 
				factor = 1.5 
				event_target:coronation_priest = { lower_tier_than = KING }
			}
			modifier = { 
				factor = 1.5 
				event_target:coronation_priest = { religion = fraticelli }
			}
			character_event = { id = HF.20332 } # Priests disapproves of ceremony.
		}
		4 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_diplomatic_incident  
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 0.9
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0 
				NOT = { 
					any_independent_ruler = { 
						has_opinion_modifier = { 
							who = ROOT
							modifier = opinion_coronation_guest 
						}
						OR = { 
							any_rival = { 
								independent = yes
								has_opinion_modifier = { 
									who = event_target:coronation_ruler 
									modifier = opinion_coronation_guest 
								}
							}
							any_independent_ruler = { 
								has_opinion_modifier = { 
									who = event_target:coronation_ruler
									modifier = opinion_coronation_guest 
								}
								NOT = {
									reverse_opinion = { 
										who = PREV
										value = -30 
									}
								}
							}
						}
					}
				}
			}


			random_independent_ruler = { #Check for two potential rivals amongst the foreign guests at the coronation ceremony
				limit = { 
					has_opinion_modifier = { 
						who = ROOT
						modifier = opinion_coronation_guest 
					}
					OR = { 
						any_rival = { 
							independent = yes
							has_opinion_modifier = { 
								who =  event_target:coronation_ruler 
								modifier = opinion_coronation_guest 
							}
						}
						any_independent_ruler = { 
							has_opinion_modifier = { 
								who = event_target:coronation_ruler
								modifier = opinion_coronation_guest 
							}
							NOT = {
								reverse_opinion = { 
									who = PREV
									value = -30 
								}
							}
						}
					}
				}
				character_event = { id = HF.20334 } # Foreign ruler guests are rivals.
			}
		}
		2 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_cynic_taunts  
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 0.75 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0
				NOT = { 
					any_independent_ruler = { 
						has_opinion_modifier = { 
							who = ROOT
							modifier = opinion_coronation_guest 
						}
						NOT = { event_target:coronation_priest = { character = PREV } }
						NOT = { event_target:coronation_ruler = { character = PREV } }
						OR = { 
							trait = cynical
							trait = bad_priest_christian
						}
					}
				}
			}
			modifier = { 
				factor = 0.5
				NOT = { 
					any_independent_ruler = { 
						has_opinion_modifier = { 
							who = ROOT
							modifier = opinion_coronation_guest 
						}
						NOT = { event_target:coronation_priest = { character = PREV } }
						NOT = { event_target:coronation_ruler = { character = PREV } }
						OR = { 
							trait = cynical
							trait = bad_priest_christian
						}
					}
					lower_tier_than = DUKE
				}
			}

			random_independent_ruler = { 
				limit = { 
					has_opinion_modifier = { 
						who = ROOT
						modifier = opinion_coronation_guest 
					}
					NOT = { event_target:coronation_priest = { character = PREV } }
					NOT = { event_target:coronation_ruler = { character = PREV } }
					OR = { 
						trait = cynical
						trait = bad_priest_christian
					}
				}
				preferred_limit = { 
					higher_tier_than = DUKE 
					OR = { 
						trait = possessed
						trait = lunatic
					}
				}
				preferred_limit = { higher_tier_than = DUKE }
				character_event = { id = HF.20342 } # Cynic/wicked vassal guest offends the coronation_priest.
			}
		}
		2 = { #One version for vassal guests, one for foreign guests.

			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_cynic_taunts  
			}
			modifier = { 
				factor = 0.75 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0
				NOT = { 
					any_vassal = { 
						has_opinion_modifier = { 
							who = ROOT
							modifier = opinion_coronation_guest 
						}
						NOT = { event_target:coronation_priest = { character = PREV } }
						NOT = { event_target:coronation_ruler = { character = PREV } }
						OR = { 
							trait = cynical
							trait = bad_priest_christian
						}
					}
				}
			}
			random_vassal = {
				limit = { 
					has_opinion_modifier = { 
						who = ROOT
						modifier = opinion_coronation_guest 
					}
					NOT = { event_target:coronation_priest = { character = PREV } }
					OR = { 
						trait = cynical
						trait = bad_priest_christian
					}
				}
				character_event = { id = HF.20342 } # Cynic/wicked foreign guest offends the coronation_priest.
			}
		}
		4 = { 

			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_wandering_knight   
			}
			modifier = { 
				factor = 0.25 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 1.25 
				is_female = yes
			}
			modifier = { 
				factor = 1.25 
				NOT = { age = 16 }
			}
			modifier = { 
				factor = 1.5 
				tier = EMPEROR
			}
			character_event = { id = HF.20346 } # Wandering knight reaches court.
		}
		4 = { 

			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_wandering_priest 
			}
			modifier = { 
				factor = 0.5 
				has_character_flag = flag_secluded_coronation
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 1.5 
				tier = EMPEROR
			}
			modifier = { 
				factor = 1.5 
				piety = 300
			}
			character_event = { id = HF.20351 } # Wandering priest reaches court.
		}
		4 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_random_rivalry  
			}
			modifier = { 
				factor = 1.5 
				has_character_flag = flag_extravagant_coronation
			}
			modifier = { 
				factor = 0 
				NOT = {
					any_vassal = { 
						has_opinion_modifier = { 
							who = ROOT
							modifier = opinion_coronation_guest 
						}
						NOT = { event_target:coronation_priest = { character = PREV } }
						OR = { 
							trait = envious
							is_rival = ROOT
							opinion = { 
								who = ROOT
								value = -30 
							}
						}
					}
				}
			}

			random_vassal = {
				limit = { 
					has_opinion_modifier = { 
						who = ROOT
						modifier = opinion_coronation_guest 
					}
					NOT = { event_target:coronation_priest = { character = PREV } }
					OR = { 
						trait = envious
						is_rival = ROOT
						opinion = { 
							who = ROOT
							value = -30 
						}
					}
				}
				character_event = { id = HF.20352 } # Envious/Hateful vassal shows rivalry.
			}
		}
		4 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_secluded_embarassed  
			}
			modifier = { 
				factor = 0 
				NOT = { has_character_flag = flag_secluded_coronation }
			}
			modifier = { 
				factor = 0 
				trait = stressed
				trait = paranoid
			}

			character_event = { id = HF.20355 } # Secluded coronation: ruler embarassed.
		}
		4 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_secluded_vassals  
			}
			modifier = { 
				factor = 0 
				NOT = { has_character_flag = flag_secluded_coronation }
			}

			character_event = { id = HF.20356 } # Secluded coronation: uninvited vassals are upset.
		}
		4 = { 
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_secluded_priest  
			}
			modifier = { 
				factor = 0 
				NOT = { has_character_flag = flag_secluded_coronation }
			}

			character_event = { id = HF.20358 } # Secluded coronation: priest is upset of poor ceremony.
		}
		4 = { 
			trigger = { 
				war = no
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_secluded_ambitious  
			}
			modifier = { 
				factor = 0 
				NOT = { has_character_flag = flag_secluded_coronation }
			}
			modifier = { 
				factor = 0.25
				NOT = { trait = ambitious }
			}

			character_event = { id = HF.20360 } # Secluded coronation: ruler loses ambition.
		}
		4 = { 
			trigger = { 
				war = no
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_secluded_proud  
			}
			modifier = { 
				factor = 0 
				NOT = { has_character_flag = flag_secluded_coronation }
			}
			modifier = { 
				factor = 0.25
				NOT = { trait = proud }
			}
			modifier = { 
				factor = 0
				trait = humble
			}

			character_event = { id = HF.20361 } # Secluded coronation: ruler humbled.
		}
		4 = { 
			trigger = { 
				war = no
			}
			modifier = { 
				factor = 0 
				has_character_flag = flag_coronation_secluded_steward  
			}
			modifier = { 
				factor = 0 
				NOT = { has_character_flag = flag_secluded_coronation }
			}
			modifier = { 
				factor = 0 
				NOT = { 
					any_courtier = {
						has_job_title = job_treasurer
					}
				}
			}
			modifier = { 
				factor = 0 
				any_courtier = {
					has_job_title = job_treasurer
					is_rival = ROOT
				}
			}

			character_event = { id = HF.20362 } # Secluded coronation: ruler hates steward for poor ceremony.
		}

	} 

}

remove_opinions_with_prison_reason_effect = {
	#Removes the specified opinion about "who" (PREV), from current scope
	#NOTE: If you add a new opinion with "prison_reason" to the game, add it here, too!
	remove_opinion = { modifier = opinion_dishonorable who = PREV }
	remove_opinion = { modifier = opinion_traitor who = PREV }
	remove_opinion = { modifier = opinion_rebel_traitor who = PREV }
	remove_opinion = { modifier = opinion_regicide_traitor who = PREV }
	remove_opinion = { modifier = attempted_murder_of_spouse who = PREV }
	remove_opinion = { modifier = attempted_murder_of_child who = PREV }
	remove_opinion = { modifier = attempted_murder_of_parent who = PREV }
	remove_opinion = { modifier = attempted_murder_of_sibling who = PREV }
	remove_opinion = { modifier = attempted_murder_of_vassal who = PREV }
	remove_opinion = { modifier = attempted_murder_of_spouse_vassal who = PREV }
	remove_opinion = { modifier = attempted_murder who = PREV }
	remove_opinion = { modifier = opinion_spouse_slayer who = PREV }
	remove_opinion = { modifier = opinion_murder_attempt who = PREV }
	remove_opinion = { modifier = opinion_killed_close_kin who = PREV }
	remove_opinion = { modifier = opinion_killed_father who = PREV }
	remove_opinion = { modifier = opinion_hajj_attempt_murder who = PREV }
	remove_opinion = { modifier = opinion_fatwa_target who = PREV }
	remove_opinion = { modifier = opinion_refused_order who = PREV }
	remove_opinion = { modifier = opinion_castrated_me who = PREV }
	remove_opinion = { modifier = opinion_blinded_me who = PREV }
	remove_opinion = { modifier = opinion_castrated_family who = PREV }
	remove_opinion = { modifier = opinion_castrated_close_kin who = PREV }
	remove_opinion = { modifier = opinion_blinded_family who = PREV }
	remove_opinion = { modifier = opinion_blinded_close_kin who = PREV }
	remove_opinion = { modifier = opinion_witch who = PREV }
	remove_opinion = { modifier = opinion_takfir who = PREV }
	remove_opinion = { modifier = opinion_attempted_abduction who = PREV }
	remove_opinion = { modifier = opinion_unfaithful_wife who = PREV }
	remove_opinion = { modifier = opinion_unfaithful_husband_crime who = PREV }
	remove_opinion = { modifier = opinion_cuckolded who = PREV }
	remove_opinion = { modifier = opinion_killed_lover who = PREV }
	remove_opinion = { modifier = opinion_charge_heresiarch who = PREV }
	remove_opinion = { modifier = opinion_charge_infidel who = PREV }
	remove_opinion = { modifier = opinion_charge_deviant who = PREV }
	remove_opinion = { modifier = opinion_charge_illegitimate who = PREV }
	remove_opinion = { modifier = opinion_charge_cultist who = PREV }
	remove_opinion = { modifier = opinion_charge_dw who = PREV }
	remove_opinion = { modifier = opinion_charge_traitor who = PREV }
	remove_opinion = { modifier = opinion_charge_slanderer who = PREV }
	remove_opinion = { modifier = abuse_of_office who = PREV }
	remove_opinion = { modifier = opinion_tortured_me who = PREV }
	remove_opinion = { modifier = opinion_tortured_family who = PREV }
	remove_opinion = { modifier = opinion_tortured_close_kin who = PREV }
	remove_opinion = { modifier = opinion_mutilated_me who = PREV }
	remove_opinion = { modifier = opinion_mutilated_family who = PREV }
	remove_opinion = { modifier = opinion_mutilated_close_kin who = PREV }
	remove_opinion = { modifier = opinion_thief who = PREV }
	remove_opinion = { modifier = opinion_outlawed_society who = PREV }
	remove_opinion = { modifier = opinion_accused_apostate who = PREV }
}



randomize_ABC_desc_flag_effect = {
	# Actually, this is not needed, but won't remove for fear of breaking something.
	# Instead, to randomize descs, simply define (in the event), multiple descs.

	# Example below:
	# desc = text_1
	# desc = text_2
	# desc = text_3
	
	clr_ABC_desc_flag_effect = yes
	random_list = {
		10 = { set_character_flag = desc_A }
		10 = { set_character_flag = desc_B }
		10 = { set_character_flag = desc_C }
	}
}
clr_ABC_desc_flag_effect = {
	clr_character_flag = desc_A
	clr_character_flag = desc_B
	clr_character_flag = desc_C
}

# Find someone to reference... (event_target:my_beloved)
# NOTE: might be platonic, children, etc
save_beloved_character_effect = {
	if = {
		limit = { # In case you have a spouse outside of your realm...
			is_married = yes

			any_spouse = {
				is_landed = yes
				ROOT_possibly_romantically_interested_trigger = yes
				root_has_terrible_opinion_modifier_of_this_trigger = no
			}
		}

		random_spouse = {
			limit = {
				is_landed = yes
				ROOT_possibly_romantically_interested_trigger = yes
				root_has_terrible_opinion_modifier_of_this_trigger = no
			}

			save_event_target_as = my_beloved
		}
	}
	else = { # In case you do not...
		any_courtier_or_vassal = {
			limit = {
				NOR = {
					character = event_target:enemy_commander
					character = event_target:enemy_liege
				}
			}

			score_value = {
				value = 1
				beloved_target_selection_score = yes
			}

			# Effect:
			save_event_target_as = my_beloved
		}
	}
}

child_of_destiny_journey_start_effect = {
	if = {
		limit = {
			has_global_flag = cod_test_values
		}
		character_event = { id = HF.210 days = 1 } # The journey begins... Test Value
	}
	else = {
		character_event = { id = HF.210 days = 200 random = 200 } # The journey begins...
	}
}

child_of_destiny_journey_resume_effect = {
	if = {
		limit = {
			has_global_flag = cod_test_values
		}
		character_event = { id = HF.210 days = 1 }  # Back to the journey tombola! Test Value
	}
	else = {
		character_event = { id = HF.210 days = 365 random = 500 } # Back to the journey tombola!
	}
}

transfer_crown_on_abdication_effect = {
	current_heir = {
		save_event_target_as = crown_heir
	}

	any_artifact = {
		limit = {
			trigger_if = {
				limit = { artifact_type = crown_hre }
				PREV = { has_landed_title = e_hre }
			}

			trigger_if = {
				limit = { artifact_type = crown_byzantine }
				PREV = {
					OR = {
						has_landed_title = e_byzantium
						has_landed_title = event_target:alternate_byz
					}
				}
			}

			trigger_if = {
				limit = { artifact_type = crown_pahlavi }
				PREV = { has_landed_title = e_persia }
			}

			trigger_if = {
				limit = { artifact_type = crown_fylkir }
				PREV = { has_landed_title = d_norse_pagan_reformed }
			}

			trigger_if = {
				limit = { artifact_type = crown_tengri_fylkir }
				PREV = { has_landed_title = d_tengri_pagan_reformed }
			}

			trigger_if = {
				limit = { artifact_type = crown_slavic_fylkir }
				PREV = { has_landed_title = d_slavic_pagan_reformed }
			}

			trigger_if = {
				limit = { artifact_type = crown_romuva_fylkir }
				PREV = { has_landed_title = d_baltic_pagan_reformed }
			}

			trigger_if = {
				limit = { artifact_type = crown_finnish_fylkir }
				PREV = { has_landed_title = d_finnish_pagan_reformed }
			}

			trigger_if = {
				limit = { artifact_type = crown_west_african_fylkir }
				PREV = { has_landed_title = d_west_african_pagan_reformed }
			}

			trigger_if = {
				limit = { artifact_type = crown_zun_fylkir }
				PREV = { has_landed_title = d_zun_pagan_reformed }
			}

			trigger_if = {
				limit = { artifact_type = scepter_bon_fylkir }
				PREV = { has_landed_title = d_bon_pagan_reformed }
			}

			trigger_if = {
				limit = { artifact_type = crown_aztec_fylkir }
				PREV = { has_landed_title = d_aztec_pagan_reformed }
			}

			trigger_if = {
				limit = { artifact_type = scepter_hellenic_fylkir }
				PREV = { has_landed_title = k_hellenic_pagan_reformed }
			}

		}

		transfer_artifact = {
			from = PREV
			to = event_target:crown_heir
		}
	}

	# Now transfer all other remaining artifacts to the player_heir, who may or may not be the current_heir
	player_heir = {
		save_event_target_as = scoped_player_heir
	}

	any_artifact = {
		limit = {
			NOR = {
				artifact_type = crown_hre
				artifact_type = crown_byzantine
				artifact_type = crown_pahlavi
				artifact_type = crown_fylkir
				artifact_type = crown_tengri_fylkir
				artifact_type = crown_slavic_fylkir
				artifact_type = crown_romuva_fylkir
				artifact_type = crown_finnish_fylkir
				artifact_type = crown_west_african_fylkir
				artifact_type = crown_zun_fylkir
				artifact_type = scepter_bon_fylkir
				artifact_type = crown_aztec_fylkir
				artifact_type = scepter_hellenic_fylkir
			}
		}

		transfer_artifact = {
			from = PREV
			to = event_target:scoped_player_heir
		}
	}
}

move_childrens_crusade_region_effect = {
	if = { #If at any point during the preparation Jerusalem is no longer a valid target, or a real Crusade starts, stop everything.
		limit = {
			OR = {
				k_jerusalem = { has_holder = yes holder_scope = { religion_group = christian } }
				c_jerusalem = { holder_scope = { religion_group = christian } }
				c_jerusalem = { holder_scope = { is_crusade_target = yes } }
				religion_head = { is_preparing_crusade = yes }
				religion_head = { 
					OR = { 
						any_war = { using_cb = crusade }  
						any_war = { using_cb = new_crusade } 
					} 
				} 
			}
		}
		any_player = { 
				limit = {
				religion_group = christian
				NOT = {
					character = ROOT
				}
			}
			narrative_event = { id = HF.25819 days = 30 } #Notify everyone that the crusade has flopped.
		}
		primary_title = {
			activate_title = { title = THIS status = no }
			destroy_landed_title = THIS
		}
		clr_character_flag = flag_childrens_crusade_leader
		add_trait = lunatic
		piety = -150
		remove_trait = disinherited 
		set_variable = { which = children_crusade_forces value = 0 }
		set_variable = { which = children_crusade_morale value = 0 }
		set_variable = { which = children_crusade_heavy_troops value = 0 }
		any_courtier = { 
			remove_trait = disinherited
			clr_character_flag = no_court_invites
		}
		break = yes
	}
	if = { #Move to Genoa first.
		limit = {
			has_character_flag = flag_children_at_beginning
		}
		primary_title = { set_preferred_capital = c_genoa } #Historically traveled here.
		change_variable = { which = children_crusade_forces value = 1 }
		change_variable = { which = children_crusade_morale value = -1 }
		clr_character_flag = flag_children_at_beginning
		set_character_flag = flag_children_at_genoa
		if = { 
			limit = {  
				NOT = { persistent_event_target:childrens_crusade_sponsor_per = { is_alive = yes } }
			}
			change_variable = { which = children_crusade_morale value = -2 }
		}
		any_player = { 
				limit = {
				religion_group = christian
				NOT = {
					character = ROOT
				}
			}
			narrative_event = { id = HF.25815 days = 30 } #Notify everyone that the crusade has reached Genoa and the sea did not part before them.
		}
		narrative_event = { id = HF.25808 days = 50 random = 100 } #Ping back to main event to check travel progress.
	}
	else_if = { #Then shipwreck to Achaia.
		limit = {
			has_character_flag = flag_children_at_genoa
		}
		primary_title = { set_preferred_capital = c_achaia } 
		change_variable = { which = children_crusade_morale value = -1 }
		clr_character_flag = flag_children_at_genoa
		set_character_flag = flag_children_at_achaia 
		any_player = { 
				limit = {
				religion_group = christian
				NOT = {
					character = ROOT
				}
			}
			narrative_event = { id = HF.25816 days = 30 } #Notify everyone that the crusade has shipwrecked into Achaia.
		}
		if = { 
			limit = {  
				NOT = { persistent_event_target:childrens_crusade_sponsor_per = { is_alive = yes } }
			}
			random = { 
				chance = 25  
				change_variable = { which = children_crusade_forces value = -1 }
			} 
		}
		narrative_event = { id = HF.25808 days = 50 random = 100 } #Ping back to main event to check travel progress.
	}
	else_if = { #Then crawl to Nikaea.
		limit = {
			has_character_flag = flag_children_at_achaia
		}
		primary_title = { set_preferred_capital = c_nikaea } 
		clr_character_flag = flag_children_at_achaia
		set_character_flag = flag_children_at_nikaea
		change_variable = { which = children_crusade_forces value = 1 } #Base forces score is 3 = circa 15.000 poorly armed troops.
		any_player = { 
				limit = {
				religion_group = christian
				NOT = {
					character = ROOT
				}
			}
			narrative_event = { id = HF.25817 days = 30 } #Notify everyone that the crusade has crawled its way to Nikaea.
		}
		narrative_event = { id = HF.25808 days = 50 random = 100 } #Ping back to main event to check travel progress.
	}
	else_if = { #We actually got there. Start the war.
		limit = {
			has_character_flag = flag_children_at_nikaea
		}
		primary_title = { set_preferred_capital = c_antiocheia } #Where the troops will spawn.
		clr_character_flag = flag_children_at_nikaea
		set_character_flag = flag_children_at_antioch
		narrative_event = { id = HF.25820 days = 25 } #START THE CRUSADE.
		any_player = { 
				limit = {
				religion_group = christian
				NOT = {
					character = ROOT
				}
			}
			narrative_event = { id = HF.25818 days = 30 } #Notify everyone that the crusade has actually reached Antioch and is ready to engage.
		}
	}
	else = { #Move directly to Antioch in case something went wrong.
		primary_title = { set_preferred_capital = c_antiocheia } #Historically traveled here.
		clr_character_flag = flag_children_at_achaia
		clr_character_flag = flag_children_at_nikaea
		clr_character_flag = flag_children_at_genoa
		set_character_flag = flag_children_at_antioch
		change_variable = { which = children_crusade_forces value = 1 }
		change_variable = { which = children_crusade_morale value = -1 }
		if = { 
			limit = {  
				NOT = { persistent_event_target:childrens_crusade_sponsor_per = { is_alive = yes } }
			}
			change_variable = { which = children_crusade_morale value = -2 }
		}
		narrative_event = { id = HF.25820 days = 25 } #START THE CRUSADE.
		any_player = { 
				limit = {
				religion_group = christian
				NOT = {
					character = ROOT
				}
			}
			narrative_event = { id = HF.25818 days = 30 } #Notify everyone that the crusade has actually reached Antioch and is ready to engage.
		}
	}
}

spawn_childrens_crusade_light_troops_effect = {
	change_variable = { which = children_crusade_forces value = -1 }
	location = {
		ROOT = {
			spawn_unit = {
				province = PREV
				home = PREV
				owner = ROOT
				attrition = 0.5
				reinforces = no
				is_looter = no
				can_toggle_looting = no
				cannot_inherit = yes
				merge = yes
				disband_on_peace = yes
				earmark = childrens_crusade_infantry_earmark
				troops = {
					light_infantry = { 3000 3000 }
					archers = { 100 100 }
				}
			}
		}
	}
	if = { 
		limit = { 
			check_variable = { which = children_crusade_forces value = 1 } #Keep looping until the variable reaches 0.
		} 
		character_event = { id = HF.25821 }
	}
}

spawn_childrens_crusade_heavy_troops_effect = {
	change_variable = { which = children_crusade_heavy_troops value = -1 }
	location = {
		ROOT = {
			spawn_unit = {
				province = PREV
				home = PREV
				owner = ROOT
				attrition = 0.5
				reinforces = no
				is_looter = no
				can_toggle_looting = no
				cannot_inherit = yes
				merge = yes
				troops = {
					heavy_infantry = { 500 500 }
					light_cavalry = { 150 150 }
				}
			}
		}
	}
	if = { 
		limit = { 
			check_variable = { which = children_crusade_heavy_troops value = 1 } #Keep looping until the variable reaches 0.
		} 
		character_event = { id = HF.25822 }
	}
}

this_is_becoming_grand_mistress_effect = { 
	custom_tooltip = { 
		text = tooltip_becoming_grand_mistress 
		hidden_tooltip = { change_variable = { which = becoming_grand_mistress value = 2 } }
	} 
}
this_is_becoming_iron_matron_effect = {
	custom_tooltip = { 
		text = tooltip_becoming_iron_matron 
		hidden_tooltip = { change_variable = { which = becoming_iron_matron value = 2 } }
	} 
}
this_is_becoming_virago_effect = {
	custom_tooltip = { 
		text = tooltip_becoming_virago 
		hidden_tooltip = { change_variable = { which = becoming_virago value = 2 } }
	}  
}

this_is_becoming_atoner_effect = {
	custom_tooltip = { 
		text = tooltip_becoming_atoner
		hidden_tooltip = { change_variable = { which = becoming_atoner value = 2 } }
	}  
}
this_is_becoming_manservant_effect = {
	custom_tooltip = { 
		text = tooltip_becoming_manservant 
		hidden_tooltip = { change_variable = { which = becoming_manservant value = 2 } }
	}  
}
this_is_becoming_stud_effect = {
	custom_tooltip = { 
		text = tooltip_becoming_stud
		hidden_tooltip = { change_variable = { which = becoming_stud value = 2 } }
	}  
}

this_is_becoming_grand_paramour_effect = {
	custom_tooltip = { 
		text = tooltip_becoming_grand_paramour 
		hidden_tooltip = { change_variable = { which = becoming_grand_paramour value = 2 } }
	} 
}
this_is_becoming_judicator_effect = {
	custom_tooltip = { 
		text = tooltip_becoming_judicator 
		hidden_tooltip = { change_variable = { which = becoming_judicator value = 2 } }
	} 
}
this_is_becoming_subjugator_effect = {
	custom_tooltip = { 
		text = tooltip_becoming_subjugator 
		hidden_tooltip = { change_variable = { which = becoming_subjugator value = 2 } }
	} 
}

this_is_becoming_prim_effect = {
	custom_tooltip = { 
		text = tooltip_becoming_prim
		hidden_tooltip = { change_variable = { which = becoming_prim value = 2 } }
	} 
}
this_is_becoming_doll_effect = {
	custom_tooltip = { 
		text = tooltip_becoming_doll
		hidden_tooltip = { change_variable = { which = becoming_doll value = 2 } }
	} 
}
this_is_becoming_breeder_effect = {
	custom_tooltip = { 
		text = tooltip_becoming_breeder
		hidden_tooltip = { change_variable = { which = becoming_breeder value = 2 } }
	} 
}

# Chance of Education trait improvement or burnout case
stable_attribute_improvement_effect = {
	hidden_effect = {
		event_target:scoped_improvement_target = {
			random_list = {
				20 = { # Education improvement
					trigger = {
						has_character_flag = flag_training_diplomacy_attribute

						# Education Improvement only unlocked by synergy
						OR = {
							has_religion_feature = religion_meritocratic
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}

						OR = {
							trait = naive_appeaser
							trait = underhanded_rogue
							trait = charismatic_negotiator
						}
					}

					character_event = {
						id = HF.23761
						days = 15
						random = 15
					}

					mult_modifier = {
						factor = 1.5

						event_target:scoped_improvement_ruler = {
							attribute_diff = {
								attribute = diplomacy
								character = event_target:scoped_improvement_target
								value >= 3
							}
						}
					}

					mult_modifier = {
						factor = 1.5

						event_target:scoped_improvement_ruler = {
							attribute_diff = {
								attribute = diplomacy
								character = event_target:scoped_improvement_target
								value >= 6
							}
						}
					}

					mult_modifier = {
						factor = 1.75

						event_target:scoped_improvement_ruler = {
							attribute_diff = {
								attribute = diplomacy
								character = event_target:scoped_improvement_target
								value >= 9
							}
						}
					}
				}

				20 = {
					trigger = {
						# Education improvement
						OR = {
							has_character_flag = flag_training_martial_attribute
							has_character_flag = flag_training_combat_rating
						}

						# Education Improvement only unlocked by synergy
						OR = {
							has_religion_feature = religion_meritocratic
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}

						OR = {
							trait = misguided_warrior
							trait = tough_soldier
							trait = skilled_tactician
						}
					}

					character_event = {
						id = HF.23761
						days = 15
						random = 15
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							attribute = martial
							character = event_target:scoped_improvement_ruler
							value <= 3
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							attribute = martial
							character = event_target:scoped_improvement_ruler
							value <= 6
						}
					}

					mult_modifier = {
						factor = 1.75

						attribute_diff = {
							attribute = martial
							character = event_target:scoped_improvement_ruler
							value <= 9
						}
					}
				}

				20 = {
					trigger = {
						# Education improvement
						has_character_flag = flag_training_stewardship_attribute

						# Education Improvement only unlocked by synergy
						OR = {
							has_religion_feature = religion_meritocratic
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}

						OR = {
							trait = indulgent_wastrel
							trait = thrifty_clerk
							trait = fortune_builder
						}
					}

					character_event = {
						id = HF.23761
						days = 15
						random = 15
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							attribute = stewardship
							character = event_target:scoped_improvement_target
							value <= 3
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							attribute = stewardship
							character = event_target:scoped_improvement_target
							value <= 6
						}
					}

					mult_modifier = {
						factor = 1.75

						attribute_diff = {
							attribute = stewardship
							character = event_target:scoped_improvement_target
							value <= 9
						}
					}
				}

				20 = {
					trigger = {
						# Education improvement
						has_character_flag = flag_training_intrigue_attribute

						# Education Improvement only unlocked by synergy
						OR = {
							has_religion_feature = religion_meritocratic
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}

						OR = {
							trait = amateurish_plotter
							trait = flamboyant_schemer
							trait = intricate_webweaver
						}
					}

					character_event = {
						id = HF.23761
						days = 15
						random = 15
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							attribute = intrigue
							character = event_target:scoped_improvement_target
							value <= 3
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							attribute = intrigue
							character = event_target:scoped_improvement_target
							value <= 6
						}
					}

					mult_modifier = {
						factor = 1.75

						attribute_diff = {
							attribute = intrigue
							character = event_target:scoped_improvement_target
							value <= 9
						}
					}
				}

				20 = {
					trigger = {
						# Education improvement
						has_character_flag = flag_training_learning_attribute

						# Education Improvement only unlocked by synergy
						OR = {
							has_religion_feature = religion_meritocratic
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}

						OR = {
							trait = detached_priest
							trait = dutiful_cleric
							trait = scholarly_theologian
						}
					}

					character_event = {
						id = HF.23761
						days = 15
						random = 15
					}

					mult_modifier = {
						factor = 1.5
						event_target:scoped_improvement_ruler = {
							has_religion_feature = religion_meritocratic # More pressure
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							attribute = learning
							character = event_target:scoped_improvement_target
							value <= 3
						}
					}

					mult_modifier = {
						factor = 1.5

						attribute_diff = {
							attribute = learning
							character = event_target:scoped_improvement_target
							value <= 6
						}
					}

					mult_modifier = {
						factor = 1.75

						attribute_diff = {
							attribute = learning
							character = event_target:scoped_improvement_target
							value <= 9
						}
					}
				}

				20 = { # Burnout
					trigger = {
						check_variable = {
							which = burnout_count
							value >= 1 # Never first time
						}
					}

					character_event = {
						id = HF.23762
						days = 15
						random = 15
					}

					mult_modifier = {
						factor = 1.5

						check_variable = {
							which = burnout_count
							value >= 2
						}
					}

					mult_modifier = {
						factor = 1.5

						check_variable = {
							which = burnout_count
							value >= 3
						}
					}

					mult_modifier = {
						factor = 1.5

						check_variable = {
							which = burnout_count
							value >= 4
						}
					}

					mult_modifier = {
						factor = 1.75

						check_variable = {
							which = burnout_count
							value >= 5
						}
					}

					mult_modifier = {
						factor = 2

						check_variable = {
							which = burnout_count
							value >= 8
						}
					}

					mult_modifier = {
						factor = 2

						check_variable = {
							which = burnout_count
							value >= 12
						}
					}

					mult_modifier = {
						factor = 1.5
						trait = slothful
					}

					mult_modifier = {
						factor = 1.5
						trait = stressed
					}

					mult_modifier = {
						factor = 1.75
						trait = depressed
					}

					mult_modifier = {
						factor = 1.5
						is_ill = yes
					}

					mult_modifier = {
						factor = 0.75
						trait = diligent
					}
				}

				80 = {
					# Nothing
				}
			}
		}
	}
}

clr_flags_introduce_heir_effect = {
	clr_character_flag = ZE_evt_heir_1
	clr_character_flag = ZE_evt_heir_2
	clr_character_flag = ZE_evt_heir_2B
	clr_character_flag = ZE_evt_heir_3
	clr_character_flag = ZE_evt_heir_3B
	clr_character_flag = ZE_evt_heir_4
	clr_character_flag = ZE_evt_heir_5
	clr_character_flag = ZE_evt_heir_6
	clr_character_flag = ZE_evt_heir_7
	clr_character_flag = ZE_evt_heir_8
}

reformation_god_names_changes_effect = { #Reforming religion with certain Doctrines might result in gods being added/removed/changed.
	ROOT = { #The Reformer scope.
		if = {
			limit = { 
				NOT = {
					has_alternate_start_parameter = { key = religion_names value = random }
				}
			}
			if = { #A ruler reforms Norse Paganism.
				limit = {
					has_dlc = "Holy Fury" 
					religion = norse_pagan_reformed
					OR = { 
						has_religion_feature = religion_matriarchal
						has_religion_feature = religion_patriarchal
						has_religion_feature = religion_dogmatic
					}
				}
				remove_god_names = yes
				remove_evil_god_names = yes
				if = { #Religion is not sexist, add just Dogmatic set.
					limit = {
						NOR = {
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}
					}
					set_high_god_name = GOD_THE_ALLFATHER
					add_god_name = GOD_THE_ALLFATHER_2
					add_evil_god_name = LOKI
					add_evil_god_name = HEL
					add_evil_god_name = FENRIR
					add_evil_god_name = JORMUNGANDR
				}
				if = { #Religion is Patriarchal
					limit = {
						has_religion_feature = religion_patriarchal
					}
					set_high_god_name = GOD_ODIN
					add_god_name = GOD_ODIN_2
					if = { 
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_THOR
						add_god_name = GOD_THE_THUNDERER
						add_god_name = GOD_THE_ALLFATHER
						add_god_name = GOD_TYR
					}
					add_evil_god_name = GOD_FRIGG
					add_evil_god_name = HEL
					add_evil_god_name = GOD_SIF
					add_evil_god_name = GOD_SKADI
				}
				if = { #Religion is Matriarchal
					limit = {
						has_religion_feature = religion_matriarchal
					}
					set_high_god_name = GOD_FRIGG
					add_god_name = GOD_FRIGG_2
					if = { 
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_SIF
						add_god_name = GOD_THE_ALLMOTHER
						add_god_name = GOD_SKADI
						add_god_name = GOD_FREY
					}
					add_evil_god_name = LOKI
					add_evil_god_name = GOD_THE_THUNDERER
					add_evil_god_name = FENRIR
					add_evil_god_name = JORMUNGANDR
				}
			}
			if = { #A ruler reforms Tengri Paganism.
				limit = {
					has_dlc = "Holy Fury" 
					religion = tengri_pagan_reformed
					OR = { 
						has_religion_feature = religion_matriarchal
						has_religion_feature = religion_patriarchal
						has_religion_feature = religion_dogmatic
					}
				}
				remove_god_names = yes
				remove_evil_god_names = yes
				if = { #Religion is not sexist, add just Dogmatic set.
					limit = {
						NOR = {
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}
					}
					set_high_god_name = GOD_TENGRI
					add_god_name = GOD_TENGRI_2
					add_evil_god_name = ERLIK
					add_evil_god_name = KOMUR_HAN
				}
				if = { #Religion is Patriarchal
					limit = {
						has_religion_feature = religion_patriarchal
					}
					set_high_god_name = GOD_TENGRI  
					add_god_name = GOD_TENGRI_2
					add_god_name = GOD_TUNG-AK
					add_evil_god_name = GOD_AK_ANA 
					add_evil_god_name = KOMUR_HAN
				}
				if = { #Religion is Matriarchal
					limit = {
						has_religion_feature = religion_matriarchal
					}
					set_high_god_name = GOD_UMAY
					add_god_name = GOD_UMAY_2
					add_god_name = GOD_AK_ANA
					add_god_name = GOD_KUBAI
					add_evil_god_name = ERLIK
					add_evil_god_name = KOMUR_HAN
				}
			}
			if = { #A ruler reforms Baltic Paganism.
				limit = {
					has_dlc = "Holy Fury" 
					religion = baltic_pagan_reformed
					OR = { 
						has_religion_feature = religion_matriarchal
						has_religion_feature = religion_patriarchal
						has_religion_feature = religion_dogmatic
					}
				}
				remove_god_names = yes
				remove_evil_god_names = yes
				if = { #Religion is not sexist, add just Dogmatic set.
					limit = {
						NOR = {
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}
					}
					set_high_god_name = GOD_DIEVAS
					add_god_name = GOD_DIEVAS_2
					add_evil_god_name = VELNIAS
				}
				if = { #Religion is Patriarchal
					limit = {
						has_religion_feature = religion_patriarchal
					}
					set_high_god_name = GOD_DIEVAS
					add_god_name = GOD_DIEVAS_2
					add_god_name = GOD_PERKUNAS  
					add_evil_god_name = GOD_LAIMA
				}
				if = { #Religion is Matriarchal
					limit = {
						has_religion_feature = religion_matriarchal
					}
					set_high_god_name = GOD_GABIJA
					add_god_name = GOD_GABIJA_2
					add_god_name = GOD_LAIMA  
					add_evil_god_name = VELNIAS
				}
			}

			if = { #A ruler reforms Finnish Paganism.
				limit = {
					has_dlc = "Holy Fury" 
					religion = finnish_pagan_reformed
					OR = { 
						has_religion_feature = religion_matriarchal
						has_religion_feature = religion_patriarchal
						has_religion_feature = religion_dogmatic
					}
				}
				remove_god_names = yes
				remove_evil_god_names = yes
				if = { #Religion is not sexist, add just Dogmatic set.
					limit = {
						NOR = {
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}
					}
					set_high_god_name = GOD_UKKO
					add_god_name = GOD_UKKO_2
					add_evil_god_name = TUONI
				}
				if = { #Religion is Patriarchal
					limit = {
						has_religion_feature = religion_patriarchal
					}
					set_high_god_name = GOD_UKKO
					add_god_name = GOD_UKKO_2
					if = { 
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_PERKELE 
						add_god_name = GOD_JUMI
						add_god_name = GOD_THE_GREAT_BEAR
						add_god_name = GOD_TAPIO
						add_god_name = GOD_TAARA
						add_god_name = GOD_OMOL
					}
					add_evil_god_name = GOD_MASTOR_AVA
					add_evil_god_name = GOD_KALMA
				}
				if = { #Religion is Matriarchal
					limit = {
						has_religion_feature = religion_matriarchal
					}
					set_high_god_name = GOD_KUU
					add_god_name = GOD_KUU_2
					if = { 
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_MASTOR_AVA 
						add_god_name = GOD_KALMA
						add_god_name = GOD_THE_GREAT_BEAR
					}
					add_evil_god_name = TUONI 
					add_evil_god_name = TUONETAR
				}
			}

			if = { #A ruler reforms Aztec Paganism.
				limit = {
					has_dlc = "Holy Fury" 
					religion = aztec_reformed
					OR = { 
						has_religion_feature = religion_matriarchal
						has_religion_feature = religion_patriarchal
						has_religion_feature = religion_dogmatic
						has_religion_feature = religion_proselytizing
					}
				}
				remove_god_names = yes
				remove_evil_god_names = yes
				if = { #Religion is not sexist, add just Proselytizing set.
					limit = {
						NOR = {
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}
						has_religion_feature = religion_proselytizing
					}
					set_high_god_name = GOD_QUETZALCOATL
					add_god_name = GOD_QUETZALCOATL_2
					add_evil_god_name = GOD_TEZCATLIPOCA
				}
				if = { #Religion is not sexist, add just Dogmatic set.
					limit = {
						NOR = {
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}
						has_religion_feature = religion_dogmatic
					}
					set_high_god_name = GOD_HUITZILOPOCHTLI
					add_god_name = GOD_HUITZILOPOCHTLI_2
					add_evil_god_name = TLAZOLTEOTL
				}
				if = { #Religion is Patriarchal
					limit = {
						has_religion_feature = religion_patriarchal
					}
					set_high_god_name = GOD_HUITZILOPOCHTLI 
					add_god_name = GOD_HUITZILOPOCHTLI_2   
					add_god_name = GOD_XIPE_TOTEC 
					add_god_name = GOD_TEZCATLIPOCA
					add_god_name = GOD_QUETZALCOATL
					add_god_name = GOD_TLALOC
					add_evil_god_name = TLAZOLTEOTL 
					add_evil_god_name = GOD_MICTLANTECUHTLI 
					add_evil_god_name = XOLOTL
				}
				if = { #Religion is Matriarchal
					limit = {
						has_religion_feature = religion_matriarchal
					}
					set_high_god_name = GOD_CIHUACOATL
					add_god_name = GOD_CIHUACOATL_2
					add_god_name = GOD_MALINALXOCHITL 
					add_god_name = GOD_METZTLI
					add_god_name = GOD_TONACACIHUATL
					add_evil_god_name = TLAZOLTEOTL 
					add_evil_god_name = GOD_MICTLANTECUHTLI 
					add_evil_god_name = XOLOTL
				}
			}

			if = { #A ruler reforms Slavic Paganism.
				limit = {
					has_dlc = "Holy Fury" 
					religion = slavic_pagan_reformed
					OR = { 
						has_religion_feature = religion_matriarchal
						has_religion_feature = religion_patriarchal
						has_religion_feature = religion_dogmatic
					}
				}
				remove_god_names = yes
				remove_evil_god_names = yes
				if = { #Religion is not sexist, add just Dogmatic set.
					limit = {
						NOR = {
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}
					}
					set_high_god_name = GOD_PERUN
					add_god_name = GOD_PERUN_2
					add_evil_god_name = GOD_VELES
					add_evil_god_name = CHERNOBOG
				}
				if = { #Religion is Patriarchal
					limit = {
						has_religion_feature = religion_patriarchal
					}
					set_high_god_name = GOD_PERUN
					add_god_name = GOD_PERUN_2
					if = { 
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_JARILO 
						add_god_name = GOD_SVAROG 
						add_god_name = GOD_TRIGLAV 
						add_god_name = GOD_RADEGAST 
					}
					add_evil_god_name = GOD_VELES
					add_evil_god_name = GOD_MEDEINA
				}
				if = { #Religion is Matriarchal
					limit = {
						has_religion_feature = religion_matriarchal
					}
					set_high_god_name = GOD_MEDEINA
					add_god_name = GOD_MEDEINA_2
					if = { 
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_DODOLA 
						add_god_name = GOD_KOSTROMA
						add_god_name = GOD_MARZANNA
					}
					add_evil_god_name = GOD_VELES 
					add_evil_god_name = CHERNOBOG
				}
			}
			if = { #A ruler reforms African Paganism.
				limit = {
					has_dlc = "Holy Fury" 
					religion = west_african_pagan_reformed
					has_religion_feature = religion_matriarchal
				}
				set_high_god_name = GOD_THE_MOTHER
			}
			if = { #A ruler reforms Bon Paganism.
				limit = {
					has_dlc = "Holy Fury" 
					religion = bon_reformed
					has_religion_feature = religion_dogmatic
				}
				remove_god_names = yes
				set_high_god_name = GOD_SANGPO_BUMTRI
				add_god_name = GOD_SANGPO_BUMTRI_2
				add_evil_god_name = GOD_THE_EVIL_ONES
			}

			if = { #A ruler reforms Hellenism while being Greek-cultured: change all the gods to their Greek names.
				limit = {
					has_dlc = "Holy Fury" 
					religion = hellenic_pagan_reformed
					culture = greek
				}
				remove_god_names = yes
				remove_evil_god_names = yes
				set_global_flag = flag_hellenic_greek_reformation #Handles other instances.
				if = { #Religion is not sexist, re-add all the gods.
					limit = {
						NOR = {
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}
					}
					if = { #Poseidon finally gets his due.
						limit = {
							has_religion_feature = religion_seafaring
						}
						set_high_god_name = GOD_POSEIDON
					}
					if = {
						limit = {
							NOT = { has_religion_feature = religion_seafaring }
						}
						set_high_god_name = GOD_GREEK_JUPITER #Otherwise shows Conclave...
					}
					if = { #Dogmatics only get one
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_GREEK_JUPITER_2 #Otherwise shows Conclave...
						add_god_name = GOD_POSEIDON_2
						add_god_name = GOD_HADES
						add_god_name = GOD_HERA
						add_god_name = GOD_DEMETRA
						add_god_name = GOD_ATHENA
						add_god_name = GOD_ARES
						add_god_name = GOD_HEPHAESTUS
						add_god_name = GOD_APHRODITE
						add_god_name = GOD_APOLLO
						add_god_name = GOD_ARTEMIS
						add_god_name = GOD_HESTIA
					}
					add_evil_god_name = GOD_HADES
					add_evil_god_name = GOD_KRONOS
					add_evil_god_name = GOD_DIONYSUS
					add_evil_god_name = GOD_HERMES
					add_evil_god_name = GOD_TYPHON
				}
				if = { #Religion is Patriarchal.
					limit = {
						has_religion_feature = religion_patriarchal
					}
					if = { #Poseidon finally gets his due.
						limit = {
							has_religion_feature = religion_seafaring
						}
						set_high_god_name = GOD_POSEIDON
					}
					if = {
						limit = {
							NOT = { has_religion_feature = religion_seafaring }
						}
						set_high_god_name = GOD_GREEK_JUPITER #Otherwise shows Conclave...
					}
					if = { #Dogmatics only get one
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_GREEK_JUPITER_2 #Otherwise shows Conclave...
						add_god_name = GOD_POSEIDON_2
						add_god_name = GOD_HADES
						add_god_name = GOD_ARES
						add_god_name = GOD_HEPHAESTUS
						add_god_name = GOD_APOLLO
					}
					add_evil_god_name = GOD_APHRODITE
					add_evil_god_name = GOD_HERA
					add_evil_god_name = GOD_ATHENA
					add_evil_god_name = GOD_ARTEMIS
					add_evil_god_name = GOD_DELFINE
				}
				if = { #Religion is Matriarchal.
					limit = {
						has_religion_feature = religion_matriarchal
					}
					set_high_god_name = GOD_HERA
					add_god_name = GOD_HERA_2
					if = { #Dogmatics only get one
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_DEMETRA
						add_god_name = GOD_ATHENA
						add_god_name = GOD_APHRODITE
						add_god_name = GOD_ARTEMIS
						add_god_name = GOD_HESTIA
					}
					add_evil_god_name = GOD_HADES
					add_evil_god_name = GOD_GREEK_JUPITER #Otherwise shows Conclave...
					add_evil_god_name = GOD_POSEIDON
					add_evil_god_name = GOD_ARES
					add_evil_god_name = GOD_TYPHON
				}
			}
			if = { #A ruler reforms Hellenism while NOT being Greek-cultured.
				limit = {
					has_dlc = "Holy Fury" 
					religion = hellenic_pagan_reformed
					NOT = { culture = greek }
				}
				remove_god_names = yes
				remove_evil_god_names = yes
				if = { #Religion is not sexist, re-add all the gods.
					limit = {
						NOR = {
							has_religion_feature = religion_matriarchal
							has_religion_feature = religion_patriarchal
						}
					}
					if = { #Poseidon finally gets his due.
						limit = {
							has_religion_feature = religion_seafaring
						}
						set_high_god_name = GOD_NEPTUNE
					}
					if = {
						limit = {
							NOT = { has_religion_feature = religion_seafaring }
						}
						set_high_god_name = GOD_JUPITER
					}
					if = { #Dogmatics only get one
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_JUPITER_2
						add_god_name = GOD_NEPTUNE_2
						add_god_name = GOD_PLUTO
						add_god_name = GOD_JUNO
						add_god_name = GOD_CERES
						add_god_name = GOD_MINERVA
						add_god_name = GOD_MARS
						add_god_name = GOD_VULCAN
						add_god_name = GOD_VENUS
						add_god_name = GOD_APOLLO
						add_god_name = GOD_DIANA
						add_god_name = GOD_VESTA
					}
					add_evil_god_name = GOD_SATURN
					add_evil_god_name = GOD_PLUTO
					add_evil_god_name = GOD_BACCHUS
					add_evil_god_name = GOD_MERCURY
					add_evil_god_name = GOD_TYPHON
				}
				if = { #Religion is Patriarchal.
					limit = {
						has_religion_feature = religion_patriarchal
					}
					if = { #Poseidon finally gets his due.
						limit = {
							has_religion_feature = religion_seafaring
						}
						set_high_god_name = GOD_NEPTUNE
					}
					if = {
						limit = {
							NOT = { has_religion_feature = religion_seafaring }
						}
						set_high_god_name = GOD_JUPITER
					}
					if = { #Dogmatics only get one
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_JUPITER_2
						add_god_name = GOD_NEPTUNE_2
						add_god_name = GOD_PLUTO
						add_god_name = GOD_MARS
						add_god_name = GOD_VULCAN
						add_god_name = GOD_APOLLO
					}
					add_evil_god_name = GOD_VENUS
					add_evil_god_name = GOD_JUNO
					add_evil_god_name = GOD_MINERVA
					add_evil_god_name = GOD_DIANA
					add_evil_god_name = GOD_DELFINE
				}
				if = { #Religion is Matriarchal.
					limit = {
						has_religion_feature = religion_matriarchal
					}
					set_high_god_name = GOD_JUNO
					add_god_name = GOD_JUNO_2
					if = { #Dogmatics only get one
						limit = {
							NOT = { has_religion_feature = religion_dogmatic }
						}
						add_god_name = GOD_CERES
						add_god_name = GOD_MINERVA
						add_god_name = GOD_VENUS
						add_god_name = GOD_DIANA
						add_god_name = GOD_VESTA
					}
					add_evil_god_name = GOD_PLUTO
					add_evil_god_name = GOD_JUPITER
					add_evil_god_name = GOD_NEPTUNE
					add_evil_god_name = GOD_MARS
					add_evil_god_name = GOD_TYPHON
				}
			}
		}

		if = {
			limit = { #Holy Family actually becomes Holy.
				has_dlc = "Holy Fury" 
				OR = { 
					has_religion_feature = religion_holy_family 
					has_religion_feature = religion_feature_zun
				}
			}
			if = {
				limit = { #Reformer himself, but only if he is not becoming the High God due to synergy.
					NOT = { has_religion_feature = religion_temporal_head }
					OR = { 
						AND = { 
							is_female = no
							NOT = { has_religion_feature = religion_matriarchal }
						}
						AND = { 
							is_female = yes
							NOT = { has_religion_feature = religion_patriarchal }
						}
					}
				}
				add_god_name = string_reformer_god
			}
			if = {
				limit = { #Spouse.
					is_married = yes
					OR = { 
						AND = { 
							is_female = yes
							NOT = { has_religion_feature = religion_matriarchal }
						}
						AND = { 
							is_female = no
							NOT = { has_religion_feature = religion_patriarchal }
						}
					}
				}
				random_spouse = { save_event_target_as = scoped_god_spouse }
				add_god_name = string_reformer_spouse_god
			}
			if = {
				limit = { #Spouse, again.
					is_married = yes
					OR = { 
						AND = { 
							is_female = yes
							has_religion_feature = religion_matriarchal
						}
						AND = { 
							is_female = no
							has_religion_feature = religion_patriarchal
						}
					}
				}
				random_spouse = { save_event_target_as = scoped_god_spouse }
				add_evil_god_name = string_reformer_spouse_god
			}
			if = {
				limit = { #Child.
					any_child = { 
						OR = { 
							AND = { 
								is_female = no
								NOT = { ROOT = { has_religion_feature = religion_matriarchal } }
							}
							AND = { 
								is_female = yes
								NOT = { ROOT = { has_religion_feature = religion_matriarchal } }
							}
						}
					}
				}
				random_child = { 
					limit = { 
						OR = { 
							AND = { 
								is_female = no
								NOT = { ROOT = { has_religion_feature = religion_matriarchal } }
							}
							AND = { 
								is_female = yes
								NOT = { ROOT = { has_religion_feature = religion_matriarchal } }
							}
						}
					}
					preferred_limit = {
						is_primary_heir = ROOT
					}
					save_event_target_as = scoped_god_child
				}
				add_god_name = string_reformer_child_god
			}
			if = {
				limit = { #Sibling.
					any_sibling = { 
						OR = { 
							AND = { 
								is_female = no
								NOT = { ROOT = { has_religion_feature = religion_matriarchal } }
							}
							AND = { 
								is_female = yes
								NOT = { ROOT = { has_religion_feature = religion_matriarchal } }
							}
						}
					}
				}
				random_sibling = { 
					limit = { 
						OR = { 
							AND = { 
								is_female = no
								NOT = { ROOT = { has_religion_feature = religion_matriarchal } }
							}
							AND = { 
								is_female = yes
								NOT = { ROOT = { has_religion_feature = religion_matriarchal } }
							}
						}
					}
					preferred_limit = {
						is_primary_heir = ROOT
					}
					save_event_target_as = scoped_god_sibling
				}
				add_god_name = string_reformer_sibling_god
			}
		}

		if = {
			limit = { #Reformer becomes the High God.
				has_dlc = "Holy Fury" 
				OR = { 
					has_religion_feature = religion_holy_family 
					has_religion_feature = religion_feature_zun
				}
				has_religion_feature = religion_temporal_head 
			}
			set_high_god_name = string_reformer_god
		}
	}
}

murder_bloodline_check_effect = { 
	change_variable = { which = bloodline_murdered_people value = 1 }
	if = { #First check for pure Murder Bloodline.
		limit = {
			check_variable = { which = bloodline_murdered_people value = 30 } 
			has_ambition = obj_forge_bloodline
		}
		set_character_flag = flag_about_to_murder_bloodline
		character_event = { id = HF.24025 days = 25 random = 25 }
	}
	else_if = { #Then check for Murder War Hybrid.
		limit = {
			check_variable = { which = bloodline_murdered_people value = 20 } 
			check_variable = { which = bloodline_won_wars value = 10 } 
			has_ambition = obj_forge_bloodline
		}
		set_character_flag = flag_about_to_murder_bloodline
		narrative_event = { id = HF.24045 days = 25 random = 25 }
	}
	else_if = { #Then check for Murder Peace Hybrid.
		limit = {
			check_variable = { which = bloodline_murdered_people value = 20 } 
			check_variable = { which = bloodline_peaceful_years value = 15 } 
			has_ambition = obj_forge_bloodline
		}
		set_character_flag = flag_about_to_murder_bloodline
		narrative_event = { id = HF.24046 days = 25 random = 25 }
	}
	else_if = { #Then check for Murder Builder Hybrid.
		limit = {
			check_variable = { which = bloodline_murdered_people value = 20 } 
			check_variable = { which = bloodline_built_holdings value = 15 } 
			has_ambition = obj_forge_bloodline
		}
		set_character_flag = flag_about_to_murder_bloodline
		narrative_event = { id = HF.24048 days = 25 random = 25 }
	}
}

princely_elective_german_elector_setup_effect = {
	e_hre = { 
		#County of Koln
		#County of Mainz
		#County of Trier
		#Duchy of Bohemia
		#Duchy of Franconia
		#Duchy of Saxony
		#Duchy of Brandenburg
		save_persistent_event_target = { name = hre_title_1_per scope = c_koln }
		save_persistent_event_target = { name = hre_title_2_per scope = c_mainz }
		save_persistent_event_target = { name = hre_title_3_per scope = c_trier }
		save_persistent_event_target = { name = hre_title_4_per scope = d_bohemia }
		save_persistent_event_target = { name = hre_title_5_per scope = d_franconia }
		save_persistent_event_target = { name = hre_title_6_per scope = d_saxony }
		save_persistent_event_target = { name = hre_title_7_per scope = d_brandenburg }
	}
}

princely_elective_french_elector_setup_effect = {
	e_hre = { 
		#County of Amiens
		#County of Reims
		#County of Anjou
		#Duchy of Aquitaine
		#Duchy of Burgundy
		#Duchy of Normandy
		#Duchy of Champagne
		save_persistent_event_target = { name = hre_title_1_per scope = c_amiens }
		save_persistent_event_target = { name = hre_title_2_per scope = c_reims }
		save_persistent_event_target = { name = hre_title_3_per scope = c_anjou }
		save_persistent_event_target = { name = hre_title_4_per scope = d_aquitaine }
		save_persistent_event_target = { name = hre_title_5_per scope = d_burgundy }
		save_persistent_event_target = { name = hre_title_6_per scope = d_normandy }
		save_persistent_event_target = { name = hre_title_7_per scope = d_champagne }
	}
}

princely_elective_italian_elector_setup_effect = {
	e_hre = { 
		#County of Rome
		#County of Ravenna
		#County of Genoa
		#Duchy of Latium
		#Duchy of Milan
		#Duchy of Tuscany
		#Duchy of Pisa
		save_persistent_event_target = { name = hre_title_1_per scope = c_roma }
		save_persistent_event_target = { name = hre_title_2_per scope = c_ravenna }
		save_persistent_event_target = { name = hre_title_3_per scope = c_genoa }
		save_persistent_event_target = { name = hre_title_4_per scope = d_latium }
		save_persistent_event_target = { name = hre_title_5_per scope = d_lombardia }
		save_persistent_event_target = { name = hre_title_6_per scope = d_toscana }
		save_persistent_event_target = { name = hre_title_7_per scope = d_pisa }
	}
}

princely_elective_spain_elector_setup_effect = {
	e_hre = { 
		#County of Santiago
		#County of Cordoba
		#County of Leon
		#Duchy of Barcelona
		#Duchy of Castille
		#Duchy of Portucale
		#Duchy of Seville
		save_persistent_event_target = { name = hre_title_1_per scope = c_santiago }
		save_persistent_event_target = { name = hre_title_2_per scope = c_leon }
		save_persistent_event_target = { name = hre_title_3_per scope = c_cordoba }
		save_persistent_event_target = { name = hre_title_4_per scope = d_barcelona }
		save_persistent_event_target = { name = hre_title_5_per scope = d_castilla }
		save_persistent_event_target = { name = hre_title_6_per scope = d_porto }
		save_persistent_event_target = { name = hre_title_7_per scope = d_sevilla }
	}
}

princely_elective_britannia_elector_setup_effect = {
	e_hre = { 
		#County of Kent
		#County of Worcester
		#County of Durham
		#Duchy of Mercia
		#Duchy of Meath
		#Duchy of Albany
		#Duchy of Gwynedd
		save_persistent_event_target = { name = hre_title_1_per scope = c_kent }
		save_persistent_event_target = { name = hre_title_2_per scope = c_worcester }
		save_persistent_event_target = { name = hre_title_3_per scope = c_durham }
		save_persistent_event_target = { name = hre_title_4_per scope = d_mercia }
		save_persistent_event_target = { name = hre_title_5_per scope = d_meath }
		save_persistent_event_target = { name = hre_title_6_per scope = d_albany }
		save_persistent_event_target = { name = hre_title_7_per scope = d_gwynedd }
	}
}

princely_elective_apply_elector_setup_effect = { 
	if = {
		limit = {
			capital_scope = {
				region = world_europe_south_italy
			}
		}
		hidden_tooltip = {
			princely_elective_italian_elector_setup_effect = yes
		}
	}
	else_if = {
		limit = {
			capital_scope = {
				region = world_europe_west_francia
			}
		}
		hidden_tooltip = {
			princely_elective_french_elector_setup_effect = yes
		}
	}
	else_if = {
		limit = {
			capital_scope = {
				region = world_europe_west_germania
			}
		}
		hidden_tooltip = {
			princely_elective_german_elector_setup_effect = yes
		}
	}
	else_if = {
		limit = {
			capital_scope = {
				region = world_europe_west_iberia
			}
		}
		hidden_tooltip = {
			princely_elective_spain_elector_setup_effect = yes
		}
	}
	else_if = {
		limit = {
			capital_scope = {
				region = world_europe_west_brittania
			}
		}
		hidden_tooltip = {
			princely_elective_britannia_elector_setup_effect = yes
		}
	}
	else = { #If outside usual borders, default to Germania.
		hidden_tooltip = {
			princely_elective_german_elector_setup_effect = yes
		}
	}
}

give_goldsmith_artifacts_flag_okay_effect = {
	if = {
	    limit = { 
	    	OR = {
	    		religion_group = christian 
	    		religion_group = jewish_group
			}
		}
	    add_artifact = the_lily_crown
        add_artifact = noble_scepter
        add_artifact = engraved_sword
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = muslim 
	        	religion = west_african_pagan
	        	religion = west_african_pagan_reformed
	        }
	    }
	    add_artifact = engraved_dagger
        add_artifact = silver_bracelets
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = indian_group
	        	religion = bon
	        	religion = bon_reformed
	        }
	    }
	    add_artifact = engraved_dagger
        add_artifact = collar_of_pearls
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = zoroastrian_group
	        	religion = zun_pagan
	        	religion = zun_pagan_reformed
			}
		}
	    add_artifact = circlet_of_twilight
        add_artifact = silver_staff
	}
	else_if = {
	    limit = {
	       OR = {
	        	religion = norse_pagan
	        	religion = norse_pagan_reformed
	        }
	    }
	    add_artifact = iron_crown
        add_artifact = engraved_sword
	}
	else = {
	    add_artifact = engraved_crown
        add_artifact = ceremonial_axe
	}
}

give_goldsmith_artifacts_flag_good_effect = {
	if = {
	    limit = { 
	    	OR = {
	    		religion_group = christian 
	    		religion_group = jewish_group
			}
		}
	    add_artifact = crown_of_pearls
        add_artifact = ruby_scepter
        add_artifact = golden_sword
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = muslim 
	        	religion = west_african_pagan
	        	religion = west_african_pagan_reformed
	        }
	    }
	    add_artifact = bejeweled_dagger
        add_artifact = golden_bracelets
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = indian_group
	        	religion = bon
	        	religion = bon_reformed
	        }
	    }
	    add_artifact = bejeweled_dagger
        add_artifact = necklace_of_radiance
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = zoroastrian_group
	        	religion = zun_pagan
	        	religion = zun_pagan_reformed
			}
		}
	    add_artifact = circlet_of_the_heavens
        add_artifact = golden_staff
	}
	else_if = {
	    limit = {
	       OR = {
	        	religion = norse_pagan
	        	religion = norse_pagan_reformed
	        }
	    }
	    add_artifact = crown_of_the_sea
        add_artifact = golden_sword
	}
	else = {
	    add_artifact = amber_crown
        add_artifact = obsidian_axe
	}
}

give_goldsmith_artifacts_flag_expensive_effect = {
	if = {
	    limit = { 
	    	OR = {
	    		religion_group = christian 
	    		religion_group = jewish_group
			}
		}
	    add_artifact = crown_of_majesty
	    add_artifact = emerald_scepter
	    add_artifact = sword_of_heroes
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = muslim 
	        	religion = west_african_pagan
	        	religion = west_african_pagan_reformed
	        }
	    }
	    add_artifact = dagger_of_glory
	    add_artifact = ruby_bracelets
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = indian_group
	        	religion = bon
	        	religion = bon_reformed
	        }
	    }
	    add_artifact = dagger_of_glory
	    add_artifact = celestial_necklace
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = zoroastrian_group
	        	religion = zun_pagan
	        	religion = zun_pagan_reformed
			}
		}
	    add_artifact = circlet_of_the_heavens
	    add_artifact = staff_of_majesty
	}
	else_if = {
	    limit = {
	       OR = {
	        	religion = norse_pagan
	        	religion = norse_pagan_reformed
	        }
	    }
	    add_artifact = crown_of_crows
	    add_artifact = sword_of_heroes
	}
	else = {
	    add_artifact = heros_crown
	    add_artifact = axe_of_the_ancestors
	}
}

give_goldsmith_artifacts_flag_amazing_effect = {
	if = {
	    limit = { 
	    	OR = {
	    		religion_group = christian 
	    		religion_group = jewish_group
			}
		}
	    add_artifact = crown_of_majesty_2
	    add_artifact = emerald_scepter_2
	    add_artifact = sword_of_heroes_2
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = muslim 
	        	religion = west_african_pagan
	        	religion = west_african_pagan_reformed
	        }
	    }
	    add_artifact = dagger_of_glory_2
	    add_artifact = ruby_bracelets_2
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = indian_group
	        	religion = bon
	        	religion = bon_reformed
	        }
	    }
	    add_artifact = dagger_of_glory_2
	    add_artifact = celestial_necklace_2
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = zoroastrian_group
	        	religion = zun_pagan
	        	religion = zun_pagan_reformed
			}
		}
	    add_artifact = circlet_of_the_heavens_2
	    add_artifact = staff_of_majesty_2
	}
	else_if = {
	    limit = {
	       OR = {
	        	religion = norse_pagan
	        	religion = norse_pagan_reformed
	        }
	    }
	    add_artifact = crown_of_crows_2
	    add_artifact = sword_of_heroes_2
	}
	else = {
	    add_artifact = heros_crown_2
	    add_artifact = axe_of_the_ancestors_2
	}
}


give_weaponsmith_artifacts_flag_okay_effect = {
	if = {
	    limit = { 
	    	OR = {
	    		religion_group = christian 
	    		religion_group = jewish_group
			}
		}
	    add_artifact = the_lily_crown
        add_artifact = noble_scepter
        add_artifact = engraved_sword
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = muslim 
	        	religion = west_african_pagan
	        	religion = west_african_pagan_reformed
	        }
	    }
	    add_artifact = engraved_dagger
        add_artifact = silver_bracelets
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = indian_group
	        	religion = bon
	        	religion = bon_reformed
	        }
	    }
	    add_artifact = engraved_dagger
        add_artifact = collar_of_pearls
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = zoroastrian_group
	        	religion = zun_pagan
	        	religion = zun_pagan_reformed
			}
		}
	    add_artifact = circlet_of_twilight
        add_artifact = silver_staff
	}
	else_if = {
	    limit = {
	       OR = {
	        	religion = norse_pagan
	        	religion = norse_pagan_reformed
	        }
	    }
	    add_artifact = iron_crown
        add_artifact = engraved_sword
	}
	else = {
	    add_artifact = engraved_crown
        add_artifact = ceremonial_axe
	}
}

give_weaponsmith_artifacts_flag_good_effect = {
	if = {
	    limit = { 
	    	OR = {
	    		religion_group = christian 
	    		religion_group = jewish_group
			}
		}
	    add_artifact = crown_of_pearls
        add_artifact = ruby_scepter
        add_artifact = golden_sword
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = muslim 
	        	religion = west_african_pagan
	        	religion = west_african_pagan_reformed
	        }
	    }
	    add_artifact = bejeweled_dagger
        add_artifact = golden_bracelets
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = indian_group
	        	religion = bon
	        	religion = bon_reformed
	        }
	    }
	    add_artifact = bejeweled_dagger
        add_artifact = necklace_of_radiance
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = zoroastrian_group
	        	religion = zun_pagan
	        	religion = zun_pagan_reformed
			}
		}
	    add_artifact = circlet_of_the_heavens
        add_artifact = golden_staff
	}
	else_if = {
	    limit = {
	       OR = {
	        	religion = norse_pagan
	        	religion = norse_pagan_reformed
	        }
	    }
	    add_artifact = crown_of_the_sea
        add_artifact = golden_sword
	}
	else = {
	    add_artifact = amber_crown
        add_artifact = obsidian_axe
	}
}

give_weaponsmith_artifacts_flag_expensive_effect = {
	if = {
	    limit = { 
	    	OR = {
	    		religion_group = christian 
	    		religion_group = jewish_group
			}
		}
	    add_artifact = crown_of_majesty
	    add_artifact = emerald_scepter
	    add_artifact = sword_of_heroes
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = muslim 
	        	religion = west_african_pagan
	        	religion = west_african_pagan_reformed
	        }
	    }
	    add_artifact = dagger_of_glory
	    add_artifact = ruby_bracelets
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = indian_group
	        	religion = bon
	        	religion = bon_reformed
	        }
	    }
	    add_artifact = dagger_of_glory
	    add_artifact = celestial_necklace
	}
	else_if = {
	    limit = { 
	        OR = {
	        	religion_group = zoroastrian_group
	        	religion = zun_pagan
	        	religion = zun_pagan_reformed
			}
		}
	    add_artifact = circlet_of_the_heavens
	    add_artifact = staff_of_majesty
	}
	else_if = {
	    limit = {
	       OR = {
	        	religion = norse_pagan
	        	religion = norse_pagan_reformed
	        }
	    }
	    add_artifact = crown_of_crows
	    add_artifact = sword_of_heroes
	}
	else = {
	    add_artifact = heros_crown
	    add_artifact = axe_of_the_ancestors
	}
}

give_smith_artifacts_flag_okay_effect = {
	if = {
        limit = { FROM = { has_character_flag = weapon_sword } }
        add_artifact = sword_tier_1_new
        set_character_flag = sword_tier_1   
            new_artifact = {
            	set_name = artifact_name
            	set_description = artifact_description_smith_tier_1
            }
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_scimitar } }
        add_artifact = scimitar_tier_1_new
        set_character_flag = scimitar_tier_1   
        new_artifact = {
          	set_name = artifact_name
           	set_description = artifact_description_smith_tier_1
        }
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_lance } }
        add_artifact = lance_tier_1_new
		set_character_flag = lance_tier_1   
        new_artifact = {
            set_name = artifact_name
            set_description = artifact_description_smith_tier_1
        }
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_axe } }
        add_artifact = axe_tier_1_new
        set_character_flag = axe_tier_1   
        new_artifact = {
            set_name = artifact_name
            set_description = artifact_description_smith_tier_1
        }
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_mace } }
        add_artifact = mace_tier_1_new
        set_character_flag = mace_tier_1   
        new_artifact = {
        	set_name = artifact_name
        	set_description = artifact_description_smith_tier_1
        }
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_bow } }
        add_artifact = bow_tier_1_new
        set_character_flag = bow_tier_1   
        new_artifact = {
            set_name = artifact_name
            set_description = artifact_description_smith_tier_1
        }
    }
    if = {
        limit = { FROM = { has_character_flag = armor_set } }
        add_artifact = armor_tier_1
    }
}

give_smith_artifacts_flag_good_effect = {
	if = {
        limit = { FROM = { has_character_flag = weapon_sword } }
        add_artifact = sword_tier_2_new
        set_character_flag = sword_tier_2   
            new_artifact = {
            	set_name = artifact_name
            	set_description = artifact_description_smith_tier_2
            }
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_scimitar } }
        add_artifact = scimitar_tier_2_new
        set_character_flag = scimitar_tier_2   
        new_artifact = {
          	set_name = artifact_name
           	set_description = artifact_description_smith_tier_2
        }
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_lance } }
        add_artifact = lance_tier_2_new
		set_character_flag = lance_tier_2   
        new_artifact = {
            set_name = artifact_name
            set_description = artifact_description_smith_tier_2
        }
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_axe } }
        add_artifact = axe_tier_2_new
        set_character_flag = axe_tier_2   
        new_artifact = {
            set_name = artifact_name
            set_description = artifact_description_smith_tier_2
        }
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_mace } }
        add_artifact = mace_tier_2_new
        set_character_flag = mace_tier_2   
        new_artifact = {
        	set_name = artifact_name
        	set_description = artifact_description_smith_tier_2
        }
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_bow } }
        add_artifact = bow_tier_2_new
        set_character_flag = bow_tier_2   
        new_artifact = {
            set_name = artifact_name
            set_description = artifact_description_smith_tier_2
        }
    }
    if = {
        limit = { FROM = { has_character_flag = armor_set } }
        add_artifact = armor_tier_2
    }
}

give_smith_artifacts_flag_amazing_optionA_effect = {
	if = {
        limit = { FROM = { has_character_flag = weapon_sword } }
        add_artifact = sword_tier_4_heartseeker
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_scimitar } }
        add_artifact = scimitar_tier_4_golden
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_lance } }
        add_artifact = lance_tier_4_impaler
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_axe } }
        add_artifact = axe_tier_4_cleaver
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_mace } }
        add_artifact = mace_tier_4_foe_hammer
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_bow } }
        add_artifact = bow_tier_4_silent_wind
    }
    if = {
        limit = { FROM = { has_character_flag = armor_set } }
        add_artifact = armor_tier_4_guardian
    }
}

give_smith_artifacts_flag_amazing_optionB_effect = {
	if = {
        limit = { FROM = { has_character_flag = weapon_sword } }
        add_artifact = sword_tier_4_vengeance
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_scimitar } }
        add_artifact = scimitar_tier_4_fortune
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_lance } }
        add_artifact = lance_tier_4_trident
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_axe } }
        add_artifact = axe_tier_4_ravager
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_mace } }
        add_artifact = mace_tier_4_bone_breaker
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_bow } }
        add_artifact = bow_tier_4_lightning
    }
    if = {
        limit = { FROM = { has_character_flag = armor_set } }
        add_artifact = armor_tier_4_champion
    }
}

give_smith_artifacts_flag_amazing_optionC_effect = {
	if = {
        limit = { FROM = { has_character_flag = weapon_sword } }
        add_artifact = sword_tier_4_fury
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_scimitar } }
        add_artifact = scimitar_tier_4_conquest
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_lance } }
        add_artifact = lance_tier_4_piercer
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_axe } }
        add_artifact = axe_tier_4_marauder
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_mace } }
        add_artifact = mace_tier_4_shatterer
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_bow } }
        add_artifact = bow_tier_4_eagle
    }
    if = {
        limit = { FROM = { has_character_flag = armor_set } }
        add_artifact = armor_tier_4_warden
    }
}

give_smith_artifacts_flag_expensive_optionA_effect = {
	if = {
        limit = { FROM = { has_character_flag = weapon_sword } }
        add_artifact = sword_tier_3_heartseeker
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_scimitar } }
        add_artifact = scimitar_tier_3_golden
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_lance } }
        add_artifact = lance_tier_3_impaler
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_axe } }
        add_artifact = axe_tier_3_cleaver
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_mace } }
        add_artifact = mace_tier_3_foe_hammer
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_bow } }
        add_artifact = bow_tier_3_silent_wind
    }
    if = {
        limit = { FROM = { has_character_flag = armor_set } }
        add_artifact = armor_tier_3_guardian
    }
}

give_smith_artifacts_flag_expensive_optionB_effect = {
	if = {
        limit = { FROM = { has_character_flag = weapon_sword } }
        add_artifact = sword_tier_3_vengeance
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_scimitar } }
        add_artifact = scimitar_tier_3_fortune
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_lance } }
        add_artifact = lance_tier_3_trident
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_axe } }
        add_artifact = axe_tier_3_ravager
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_mace } }
        add_artifact = mace_tier_3_bone_breaker
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_bow } }
        add_artifact = bow_tier_3_lightning
    }
    if = {
        limit = { FROM = { has_character_flag = armor_set } }
        add_artifact = armor_tier_3_champion
    }
}

give_smith_artifacts_flag_expensive_optionC_effect = {
	if = {
        limit = { FROM = { has_character_flag = weapon_sword } }
        add_artifact = sword_tier_3_fury
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_scimitar } }
        add_artifact = scimitar_tier_3_conquest
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_lance } }
        add_artifact = lance_tier_3_piercer
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_axe } }
        add_artifact = axe_tier_3_marauder
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_mace } }
        add_artifact = mace_tier_3_shatterer
    }
    if = {
        limit = { FROM = { has_character_flag = weapon_bow } }
        add_artifact = bow_tier_3_eagle
    }
    if = {
        limit = { FROM = { has_character_flag = armor_set } }
        add_artifact = armor_tier_3_warden
    }
}

give_random_character_modifier_effect = {
	random_list = {
		100 = {
			trigger = {
				NOT = { has_character_modifier = aspiring_poet }
			}

			add_character_modifier = {
				name = aspiring_poet
				years = 5
			}

			mult_modifier = {
				factor = 2
				learning >= 12
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = aspiring_duelist }
			}

			add_character_modifier = {
				name = aspiring_duelist
				years = 5
			}

			mult_modifier = {
				factor = 2
				martial >= 12
			}

			mult_modifier = {
				factor = 2

				OR = {
					duelist_skill_is_medium_group_trigger = yes
					duelist_skill_is_high_group_trigger = yes
				}
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = aspiring_hunter }
			}

			add_character_modifier = {
				name = aspiring_hunter
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = aspiring_falconer }
			}

			add_character_modifier = {
				name = aspiring_falconer
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = learning_advice }
			}

			add_character_modifier = {
				name = learning_advice
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = slept_in_church }
			}

			add_character_modifier = {
				name = slept_in_church
				years = 5
			}

			mult_modifier = {
				factor = 2
				trait = drunkard
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = gambler }
			}

			add_character_modifier = {
				name = gambler
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = whoremaster }
			}

			add_character_modifier = {
				name = whoremaster
				years = 5
			}

			mult_modifier = {
				factor = 2
				trait = lustful
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = good_deeds }
			}

			add_character_modifier = {
				name = good_deeds
				years = 5
			}

			mult_modifier = {
				factor = 1.5
				is_benevolent_trigger = yes
			}

			mult_modifier = {
				factor = 1.5
				has_pleasant_personality_trigger = yes
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = proving_bravery }
			}

			add_character_modifier = {
				name = proving_bravery
				years = 5
			}

			mult_modifier = {
				factor = 2
				trait = brave
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = suspected_coward }
			}

			add_character_modifier = {
				name = suspected_coward
				years = 5
			}

			mult_modifier = {
				factor = 0.5
				trait = brave
			}
		}

		5 = {
			trigger = {
				NOT = { has_character_modifier = speaking_in_tounges }
			}

			add_character_modifier = {
				name = speaking_in_tounges
				years = 5
			}

			mult_modifier = {
				factor = 4
				trait = lunatic
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = good_times }
			}

			add_character_modifier = {
				name = good_times
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = good_hunt }
			}

			add_character_modifier = {
				name = good_hunt
				years = 5
			}

			mult_modifier = {
				factor = 2
				trait = hunter
			}
		}

		5 = {
			trigger = {
				NOT = { has_character_modifier = epic_hangover }
			}

			add_character_modifier = {
				name = epic_hangover
				years = 5
			}

			mult_modifier = {
				factor = 4
				trait = drunkard
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = weird_scholar }
			}

			add_character_modifier = {
				name = weird_scholar
				years = 5
			}

			mult_modifier = {
				factor = 2
				learning >= 12
			}
		}

		100 = {
			trigger = {
				has_lover = yes
				NOT = { has_character_modifier = comfort_of_lover }
			}

			add_character_modifier = {
				name = comfort_of_lover
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = sleep_deprivation }
			}

			add_character_modifier = {
				name = sleep_deprivation
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = pet_cat }
			}

			add_character_modifier = {
				name = pet_cat
				years = 5
			}

			random_list = {
				25 = {
					trigger = { is_female = yes }

					add_character_modifier = {
						name = crazy_cat_lady
						years = 5
					}
				}

				25 = {
					trigger = { is_female = no }

					add_character_modifier = {
						name = crazy_cat_lord
						years = 5
					}
				}

				50 = { } # Nothing
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = invigorated }
			}

			add_character_modifier = {
				name = invigorated
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = good_listener }
			}

			add_character_modifier = {
				name = good_listener
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = confident }
			}

			add_character_modifier = {
				name = confident
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = bad_person }
				is_benevolent_trigger = no
				has_pleasant_personality_trigger = no
			}

			add_character_modifier = {
				name = bad_person
				years = 5
			}

			mult_modifier = {
				factor = 2

				OR = {
					is_evil_trigger = yes
					has_unpleasant_personality_trigger = yes
				}
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = pet_parrot }
			}

			add_character_modifier = {
				name = pet_parrot
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = pet_owl }
			}

			add_character_modifier = {
				name = pet_owl
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = taking_it_easy }
			}

			add_character_modifier = {
				name = taking_it_easy
				years = 5
			}

			mult_modifier = {
				factor = 2
				trait = slothful
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = fell_into_the_river }
			}

			add_character_modifier = {
				name = fell_into_the_river
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = green_fingers }
			}

			add_character_modifier = {
				name = green_fingers
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = pet_house_dog }
			}

			add_character_modifier = {
				name = pet_house_dog
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = pet_hedgehog }
			}

			add_character_modifier = {
				name = pet_hedgehog
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = pet_otter }
			}

			add_character_modifier = {
				name = pet_otter
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = bad_nights_sleep }
			}

			add_character_modifier = {
				name = bad_nights_sleep
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = good_nights_sleep }
			}

			add_character_modifier = {
				name = good_nights_sleep
				years = 5
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = well_spoken }
			}

			add_character_modifier = {
				name = well_spoken
				years = 5
			}

			mult_modifier = {
				factor = 2
				diplomacy >= 12
			}
		}

		100 = {
			trigger = {
				NOT = { has_character_modifier = jumbling_words }
			}

			add_character_modifier = {
				name = jumbling_words
				years = 5
			}

			mult_modifier = {
				factor = 2
				diplomacy < 8
			}
		}

		100 = {
			trigger = {
				has_injury_trigger = no
			}

			apply_random_minor_injury_effect = yes
		}
	}
}

assign_random_nickname_effect = {
	random_list = {
		10 = { give_nickname = nick_the_unlucky }
		10 = { give_nickname = nick_the_lucky }
		10 = { give_nickname = nick_the_careless }
		10 = { give_nickname = nick_the_jittery }
		10 = { give_nickname = nick_the_dry_throat }
		10 = { give_nickname = nick_the_messy }
		10 = { give_nickname = nick_the_feeble }
		10 = { give_nickname = nick_the_red_cheeks }
		10 = { give_nickname = nick_the_blushing }
		10 = { give_nickname = nick_the_twitchy }

		10 = {
			trigger = { trait = brave }

			random_list = {
				10 = { give_nickname = nick_the_brave }
				10 = { give_nickname = nick_the_fearless }
			}
		}

		5 = {
			give_nickname = nick_the_clueless

			mult_modifier = {
				factor = 4
				learning < 6
			}
		}

		10 = {
			give_nickname = nick_the_ill_tempered

			mult_modifier = {
				factor = 4

				OR = {
					is_evil_trigger = yes
					has_unpleasant_personality_trigger = yes
				}
			}
		}

		10 = {
			give_nickname = nick_the_affable

			mult_modifier = {
				factor = 4

				OR = {
					has_pleasant_personality_trigger = yes
					is_pious_trigger = yes
				}
			}
		}

		10 = {
			trigger = { practical_age < 30 }

			give_nickname = nick_the_youthful
		}

		5 = {
			give_nickname = nick_the_beguiling

			mult_modifier = {
				factor = 4
				is_attractive_trigger = yes
			}
		}

		10 = {
			trigger = { trait = lustful }

			give_nickname = nick_the_lewd
		}

		5 = {
			give_nickname = nick_the_unchaste

			mult_modifier = {
				factor = 4
				trait = lustful
			}

			mult_modifier = {
				factor = 2
				has_lover = yes
			}
		}

		5 = {
			trigger = {
				uses_decadence = yes
				decadence >= 50
			}

			give_nickname = nick_the_decadent

			mult_modifier = {
				factor = 4
				decadence >= 70
			}
		}

		10 = {
			trigger = { has_unpleasant_personality_trigger = yes }

			random_list = {
				10 = { give_nickname = nick_the_shrewd }
				10 = { give_nickname = nick_the_wily }
			}
		}

		10 = {
			trigger = { has_pleasant_personality_trigger = yes }

			give_nickname = nick_the_jolly
		}

		10 = {
			trigger = { has_pleasant_personality_trigger = yes }

			random_list = {
				10 = { give_nickname = nick_the_gracious }
				10 = { give_nickname = nick_the_kind }
				10 = { give_nickname = nick_the_good }
			}
		}

		10 = {
			trigger = { trait = patient }

			random_list = {
				10 = { give_nickname = nick_the_tenacious }
				10 = { give_nickname = nick_the_mule }
			}
		}

		5 = {
			give_nickname = nick_the_strange

			mult_modifier = {
				factor = 4
				has_mental_disorder_trigger = yes
			}
		}

		10 = {
			trigger = { is_weak_trigger = yes }

			give_nickname = nick_the_clumsy
		}

		10 = {
			trigger = { is_impious_trigger = yes }

			give_nickname = nick_the_evil
		}

		10 = {
			trigger = { is_strong_trigger = yes }

			give_nickname = nick_the_strong
		}

		10 = {
			give_nickname = nick_the_merry

			mult_modifier = {
				factor = 2
				has_pleasant_personality_trigger = yes
			}
		}

		10 = {
			give_nickname = nick_the_gentle

			mult_modifier = {
				factor = 2
				has_pleasant_personality_trigger = yes
			}
		}

		10 = {
			trigger = { trait = proud }

			give_nickname = nick_the_proud
		}

		10 = {
			trigger = { trait = shy }

			give_nickname = nick_the_silent
		}

		10 = {
			trigger = { trait = chaste }

			give_nickname = nick_the_chaste
		}

		10 = {
			trigger = {
				is_female = no
				is_attractive_trigger = yes
			}

			random_list = {
				10 = { give_nickname = nick_the_handsome }
				10 = { give_nickname = nick_the_vain }
			}
		}

		10 = {
			trigger = {
				is_female = yes
				is_attractive_trigger = yes
			}

			random_list = {
				10 = { give_nickname = nick_the_fair }
				10 = { give_nickname = nick_the_vain }
				10 = { give_nickname = nick_the_flower }
			}
		}

		10 = {
			trigger = { is_unattractive_trigger = yes }

			random_list = {
				10 = { give_nickname = nick_the_hideous }
				10 = { give_nickname = nick_the_frog }
				10 = { give_nickname = nick_the_repulsive }
			}
		}

		10 = {
			trigger = { trait = lunatic }

			give_nickname = nick_the_mad
		}

		10 = {
			trigger = { trait = drunkard }

			give_nickname = nick_the_drunkard
		}

		10 = {
			trigger = { learning >= 10 }

			give_nickname = nick_the_wise

			mult_modifier = {
				factor = 2
				learning >= 14
			}
		}

		10 = {
			trigger = { is_pious_trigger = yes }

			random_list = {
				10 = { give_nickname = nick_the_pious }
				10 = { give_nickname = nick_the_blessed }
			}
		}

		10 = {
			trigger = { practical_age < 25 }

			give_nickname = nick_the_young
		}

		10 = {
			trigger = { practical_age >= 50 }

			give_nickname = nick_the_old
		}

		10 = {
			trigger = { learning >= 10 }

			random_list = {
				10 = { give_nickname = nick_the_scholar }
				10 = { give_nickname = nick_the_understanding }
				10 = { give_nickname = nick_the_healer }
			}
		}

		10 = {
			trigger = { combat_rating >= 10 }

			give_nickname = nick_the_oakskin
		}

		10 = {
			trigger = { trait = slothful }

			give_nickname = nick_the_sleepy
		}

		10 = {
			trigger = { base_health < 3 }

			random_list = {
				10 = { give_nickname = nick_butter_teeth }
				10 = { give_nickname = nick_the_toothless }
			}
		}

		10 = {
			trigger = { trait = craven }

			random_list = {
				10 = { give_nickname = nick_the_cowardly }
				10 = { give_nickname = nick_the_squirmy }
			}
		}

		10 = {
			trigger = { trait = paranoid }

			give_nickname = nick_the_frantic
		}

		10 = {
			trigger = {
				NOR = {
					trait = genius
					trait = quick
				}
			}

			random_list = {
				10 = { give_nickname = nick_the_thin_minded }
				10 = { give_nickname = nick_the_forgetful }
			}

			mult_modifier = {
				factor = 4

				OR = {
					trait = imbecile
					trait = slow
				}
			}
		}

		10 = {
			trigger = {
				NOT = { trait = gregarious }
			}

			give_nickname = nick_the_recluse

			mult_modifier = {
				factor = 2
				trait = shy
			}
		}

		10 = {
			trigger = { trait = wroth }

			give_nickname = nick_the_short_tempered
		}

		10 = {
			trigger = {
				NOT = { trait = content }
			}

			give_nickname = nick_the_whiner
		}

		10 = {
			trigger = {
				trait = deceitful
			}

			give_nickname = nick_the_liar
		}
	}
}

setup_province_pulse = {
	if = {
		limit = {
			independent = yes
			NOT = { has_global_flag = big_event_province_set }
		}

		random_province = {
			limit = { has_owner = yes }

			set_province_flag = big_event_province
			holder_scope = { set_character_flag = big_event_provincee }
			save_global_event_target_as = big_event_province
			holder_scope = { save_event_target_as = big_event_province_holder }
		}

		set_global_flag = big_event_province_set
	}
}